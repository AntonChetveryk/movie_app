(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchAuth",function(){return j}),a.d(n,"updateAuth",function(){return A}),a.d(n,"fetchFavorites",function(){return _}),a.d(n,"updateFavoriteMovies",function(){return N}),a.d(n,"fetchWatchlists",function(){return w}),a.d(n,"updateWatchlistMovies",function(){return C}),a.d(n,"showLoginModal",function(){return k}),a.d(n,"onLogOut",function(){return S});var r=a(0),s=a.n(r),o=a(23),i=a.n(o),c=a(4),l=a(5),u=a(7),m=a(6),d=a(8),p=a(33),h=a(19),v=a(13),g=a(42),f=a.n(g),b="https://api.themoviedb.org/3",E="b3ff350532467eb0b07cf18d16f4a254",y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(a,n){fetch(e,t).then(function(e){if(e.status<400)return e.json();throw e}).then(function(e){a(e)}).catch(function(e){e.json().then(function(e){n(e)})})})},O=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"get",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).params,a=void 0===t?{}:t,n=Object(v.a)({api_key:E},a);return y("".concat(b).concat(e,"?").concat(f.a.stringify(n)),{mode:"cors",headers:{"Content-type":"application/json"}})}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.params,n=void 0===a?{}:a,r=t.body,s=void 0===r?{}:r,o=Object(v.a)({api_key:E},n);return y("".concat(b).concat(e,"?").concat(f.a.stringify(o)),{method:"POST",mode:"cors",headers:{"Content-type":"application/json"},body:JSON.stringify(s)})}}]),e}(),j=function(e){return function(t){t({type:"FETCH_REQUEST_AUTH"}),O.get("/account",{params:{session_id:e}}).then(function(a){t(A({user:a,session_id:e})),t(_({session_id:e,user:a})),t(w({session_id:e,user:a}))}).catch(function(e){t({type:"FETCH_ERROR_AUTH",payload:e})})}},A=function(e){return{type:"FETCH_SUCCESS_AUTH",payload:{session_id:e.session_id,user:e.user}}},_=function(e){var t=e.session_id,a=e.user;return function(e){O.get("/account/".concat(a.id,"/favorite/movies"),{params:{language:"ru-RU",session_id:t}}).then(function(t){e(N(t.results))})}},N=function(e){return{type:"UPDATE_FAVORITE_MOVIES",payload:e}},w=function(e){var t=e.session_id,a=e.user;return function(e){O.get("/account/".concat(a.id,"/watchlist/movies"),{params:{language:"ru-RU",session_id:t}}).then(function(t){e(C(t.results))})}},C=function(e){return{type:"UPDATE_WATCHLIST_MOVIES",payload:e}},k=function(){return{type:"SHOW_LOGIN_MODAL"}},S=function(){return{type:"LOGOUT"}},P=function(e){return{auth:e.auth}},L=function(e){return{authActions:Object(h.bindActionCreators)(n,e)}},F=function(e){return Object(p.b)(P,L)(function(t){function a(){return Object(c.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement(e,this.props)}}]),a}(s.a.Component))},U=a(109),M=a(101),T=a(21),x=a(9),D=a.n(x),V=F(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"chetverykanton92@gmail.com",password:"anton1992",repeatPassword:"anton1992",errors:{},submitting:!1},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(function(e){var a;return a={},Object(T.a)(a,t,n),Object(T.a)(a,"errors",Object(v.a)({},e.errors,Object(T.a)({base:null},t,null))),a})},a.handleBlur=function(e){var t=e.target.name,n=a.validateFields()[t];n&&a.setState(function(e){return{errors:Object(v.a)({},e.errors,Object(T.a)({},t,n))}})},a.validateFields=function(){var e={};return""===a.state.username&&(e.username="Not empty"),""===a.state.password&&(e.password="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"),a.state.repeatPassword!==a.state.password&&(e.repeatPassword="\u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0440\u0430\u0432\u0435\u043d \u043f\u0430\u0440\u043e\u043b\u044e"),e},a.onSubmit=function(){var e;a.setState({submitting:!0}),O.get("/authentication/token/new").then(function(e){return O.post("/authentication/token/validate_with_login",{body:{username:a.state.username,password:a.state.password,request_token:e.request_token}})}).then(function(e){return O.post("/authentication/session/new",{body:{request_token:e.request_token}})}).then(function(t){return e=t.session_id,O.get("/account",{params:{session_id:e}})}).then(function(t){a.setState({submitting:!1},function(){return a.props.authActions.updateAuth({session_id:e,user:t})}),a.props.authActions.fetchFavorites({user:t,session_id:e}),a.props.authActions.fetchWatchlists({user:t,session_id:e})}).catch(function(e){console.log("error",e),a.setState({submitting:!1,errors:{base:e.status_message}})})},a.onLogin=function(e){e.preventDefault();var t=a.validateFields();Object.keys(t).length>0?a.setState(function(e){return{errors:Object(v.a)({},e.errors,t)}}):a.onSubmit()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.repeatPassword,r=e.errors,o=e.submitting;return s.a.createElement("div",{className:"form-login-container"},s.a.createElement("form",{className:"form-login"},s.a.createElement("h1",{className:"h3 mb-3 font-weight-normal text-center"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"username"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),s.a.createElement("input",{type:"text",className:D()("form-control",{"border-red":r.username}),id:"username",placeholder:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",name:"username",value:t,onChange:this.onChange,onBlur:this.handleBlur}),r.username&&s.a.createElement("div",{className:"invalid-feedback"},r.username)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password"},"\u041f\u0430\u0440\u043e\u043b\u044c"),s.a.createElement("input",{type:"password",className:D()("form-control",{"border-red":r.password}),id:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",value:a,onChange:this.onChange,onBlur:this.handleBlur}),r.password&&s.a.createElement("div",{className:"invalid-feedback"},r.password)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"repeatPassword"},"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),s.a.createElement("input",{type:"password",className:D()("form-control",{"border-red":r.repeatPassword}),id:"repeatPassword",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",name:"repeatPassword",value:n,onChange:this.onChange,onBlur:this.handleBlur}),r.repeatPassword&&s.a.createElement("div",{className:"invalid-feedback"},r.repeatPassword)),s.a.createElement("button",{type:"submit",className:"btn btn-lg btn-primary btn-block",onClick:this.onLogin,disabled:o},"\u0412\u0445\u043e\u0434"),r.base&&s.a.createElement("div",{className:"invalid-feedback text-center"},r.base)))}}]),t}(s.a.Component)),X=F(function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authActions;return s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-success",type:"button",onClick:a.showLoginModal},"Login"),s.a.createElement(U.a,{isOpen:t.isShowModal,toggle:a.showLoginModal},s.a.createElement(M.a,null,s.a.createElement(V,null))))}}]),t}(s.a.Component)),z=a(102),R=a(110),H=a(111),q=a(103),G=F(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={dropdownOpen:!1},a.toggleDropdown=function(){a.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},a.handleLogOut=function(){y("".concat(b,"/authentication/session?api_key=").concat(E),{method:"DELETE",mode:"cors",headers:{"Content-type":"application/json"},body:JSON.stringify({session_id:a.props.auth.session_id})}).then(function(){a.props.authActions.onLogOut()})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.auth;return s.a.createElement(z.a,{isOpen:this.state.dropdownOpen,toggle:this.toggleDropdown},s.a.createElement(R.a,{tag:"div",onClick:this.toggleDropdown,"data-toggle":"dropdown","aria-expanded":this.state.dropdownOpen},s.a.createElement("img",{width:"40",className:"rounded-circle",src:"https://secure.gravatar.com/avatar/".concat(e.user.avatar.gravatar.hash,'.jpg?s=64"'),alt:"",onClick:this.toggleDropdown})),s.a.createElement(H.a,{right:!0},s.a.createElement(q.a,{onClick:this.handleLogOut},"\u0412\u044b\u0439\u0442\u0438")))}}]),t}(r.Component)),I=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.user;return s.a.createElement("nav",{className:"navbar navbar-dark bg-primary"},s.a.createElement("div",{className:"container"},s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{className:"nav-item active"},s.a.createElement("a",{href:"/",className:"nav-link"},"Home"))),e?s.a.createElement(G,null):s.a.createElement(X,null)))}}]),t}(s.a.Component),B=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.auth;return s.a.createElement("div",{className:"Layout"},s.a.createElement(I,{user:e.user}),this.props.children)}}]),t}(s.a.Component),Z=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sort_by,a=e.onChangeFilters,n=e.options;return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"sort_by"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e:"),s.a.createElement("select",{className:"form-control",value:t,onChange:a,id:"sort_by",name:"sort_by"},n.map(function(e){return s.a.createElement("option",{key:e.value,value:e.value},e.label)})))}}]),t}(s.a.PureComponent);Z.defaultProps={options:[{label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",value:"popularity.desc"},{label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043f\u043e \u0432\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043d\u0438\u044e",value:"popularity.asc"},{label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",value:"vote_average.desc"},{label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e \u0432\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043d\u0438\u044e",value:"vote_average.asc"}]};var K=function(e,t){for(var a=[],n=e;n<=t;n++)a.push(n);return a}(1950,2025),J=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.primary_release_year,a=e.onChangeFilters;return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"primary_release_year"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0433\u043e\u0434\u0443:"),s.a.createElement("select",{className:"form-control",value:t,onChange:a,id:"primary_release_year",name:"primary_release_year"},K.map(function(e){return s.a.createElement("option",{key:e,value:e},e)})))}}]),t}(s.a.PureComponent),W=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){return function(){a.props.onChangePage(e)}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.page,a=e.total_pages;return s.a.createElement("div",null,s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{type:"button",className:"btn btn-light",onClick:this.handleClick(t-1),disabled:1===t},"\u041d\u0430\u0437\u0430\u0434"),s.a.createElement("button",{type:"button",className:"btn btn-light",onClick:this.handleClick(t+1),disabled:t===a},"\u0412\u043f\u0435\u0440\u0435\u0434")),s.a.createElement("div",{className:"total-pages mt-2"},"".concat(t," \u0438\u0437 ").concat(a)))}}]),t}(s.a.Component),Y=a(66),Q=function(e){return s.a.createElement("div",{className:"genres"},e.genres.map(function(t){return s.a.createElement("div",{key:t.id,className:"checkbox-container"},s.a.createElement("input",{type:"checkbox",name:t.name,id:t.id,value:t.id,onChange:e.onChangeGenres,checked:e.with_genres.includes(String(t.id))}),s.a.createElement("label",{htmlFor:t.id,className:"ml-2"},t.name))}))},$=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).getGenres=function(){var t="https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(E,"&language=ru-RU");fetch(t).then(function(e){return e.json()}).then(function(t){e.setState({genres:t.genres})})},e.onChangeGenres=function(t){var a=e.props.with_genres,n=t.target,r=n.value,s=n.checked;e.props.onChangeFilters({target:{name:"with_genres",value:s?[].concat(Object(Y.a)(a),[r]):a.filter(function(e){return e!==r})}})},e.state={genres:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getGenres()}},{key:"render",value:function(){var e=this.state.genres,t=this.props.with_genres;return s.a.createElement(Q,{genres:e,onChangeGenres:this.onChangeGenres,with_genres:t})}}]),t}(s.a.PureComponent),ee=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.filters,a=t.sort_by,n=t.primary_release_year,r=t.with_genres,o=e.onChangeFilters,i=e.onChangePage,c=e.page,l=e.total_pages,u=e.onReset;return s.a.createElement("form",{className:"mb-3"},s.a.createElement("button",{type:"button",className:"btn btn-light mb-2",onClick:u},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"),s.a.createElement(Z,{sort_by:a,onChangeFilters:o}),s.a.createElement(J,{primary_release_year:n,onChangeFilters:o}),s.a.createElement("h3",null,"\u0416\u0430\u043d\u0440\u044b:"),s.a.createElement($,{onChangeFilters:o,with_genres:r}),s.a.createElement(W,{page:c,onChangePage:i,total_pages:l}))}}]),t}(s.a.Component),te=a(58),ae=a.n(te),ne=a(59),re=a.n(ne),se=F(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1},a.onClick=function(){var e=a.props,t=e.auth,n=e.authActions,r=e.movie;t.user?(a.setState({isLoading:!0}),O.post("/account/".concat(t.user.id,"/watchlist"),{params:{session_id:t.session_id},body:{media_type:"movie",media_id:r.id,watchlist:!a.isWatchlist()}}).then(function(){return a.setState({isLoading:!1},function(){return n.fetchWatchlists(t)})})):n.showLoginModal()},a.isWatchlist=function(){var e=a.props,t=e.auth,n=e.movie;return-1!==t.watchlists.findIndex(function(e){return e.id===n.id})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.isLoading;return s.a.createElement("img",{src:this.isWatchlist()?ae.a:re.a,alt:"bookmark",onClick:this.onClick,className:e?"disable":null})}}]),t}(s.a.Component)),oe=a(60),ie=a.n(oe),ce=a(61),le=a.n(ce),ue=F(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1},a.onClick=function(){var e=a.props,t=e.auth,n=e.movie;t.user?(a.setState({isLoading:!0}),O.post("/account/".concat(t.user.id,"/favorite"),{params:{session_id:t.session_id},body:{media_type:"movie",media_id:n.id,favorite:!a.isFavorite()}}).then(function(){return a.setState({isLoading:!1},function(){return a.props.authActions.fetchFavorites(t)})})):a.props.authActions.showLoginModal()},a.isFavorite=function(){var e=a.props,t=e.auth,n=e.movie;return-1!==t.favorits.findIndex(function(e){return e.id===n.id})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.isLoading;return s.a.createElement("img",{src:this.isFavorite()?le.a:ie.a,alt:"star",onClick:this.onClick,className:e?"disable":null})}}]),t}(s.a.Component)),me=a(25),de=a(62),pe=a.n(de),he=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.movie;return s.a.createElement("div",{className:"card"},e.backdrop_path||e.poster_path?s.a.createElement("img",{className:"card-img-top card-img--height",src:"https://image.tmdb.org/t/p/w500".concat(e.backdrop_path||e.poster_path),alt:""}):s.a.createElement("img",{className:"card-img-top card-img--height",src:pe.a,alt:""}),s.a.createElement("div",{className:"card-body"},s.a.createElement(me.b,{className:"card-title",to:"/movie/".concat(e.id)},e.title),s.a.createElement("div",{className:"card-text"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",e.vote_average),s.a.createElement(ue,{movie:e}),s.a.createElement(se,{movie:e})))}}]),t}(s.a.Component),ve=a(32),ge=a.n(ve),fe=function(e){var t=e.movies,a=e.isLoading;return s.a.createElement("div",{className:"row movies-list-container"},a?s.a.createElement("img",{src:ge.a,alt:"loading",className:"loading"}):t.map(function(e){return s.a.createElement("div",{key:e.id,className:"col-6 mb-4"},s.a.createElement(he,{movie:e,movie_id:e.id}))}))};fe.defaultProps={movies:[]};var be,Ee=(be=fe,function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).getMovies=function(t,a){var n=t.sort_by,r=t.primary_release_year,s=t.with_genres,o={language:"ru-RU",sort_by:n,page:a,primary_release_year:r},i=e.props.onChangeTotalPage;s.length>0&&(o.with_genres=s.join(",")),e.setState({isLoading:!e.state.isLoading}),O.get("/discover/movie",{params:o}).then(function(t){e.setState({isLoading:!e.state.isLoading,movies:t.results}),i(t.total_pages)})},e.state={movies:[],isLoading:!1},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getMovies(this.props.filters,this.props.page)}},{key:"componentDidUpdate",value:function(e){this.props.filters!==e.filters&&(this.props.onChangePage(1),this.getMovies(this.props.filters,1)),this.props.page!==e.page&&this.getMovies(this.props.filters,this.props.page)}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.isLoading;return s.a.createElement(be,Object.assign({},this.props,{movies:t,isLoading:a}))}}]),t}(s.a.Component)),ye=(s.a.createContext(),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onChangeFilters=function(t){var a=t.target,n=a.name,r=a.value;e.setState(function(e){return{filters:Object(v.a)({},e.filters,Object(T.a)({},n,r))}})},e.onChangePage=function(t){e.setState({page:t})},e.onChangeTotalPage=function(t){e.setState({total_pages:t})},e.onReset=function(t){t.preventDefault(),e.setState(e.initialState)},e.initialState={filters:{sort_by:"popularity.desc",primary_release_year:"2020",with_genres:[]},page:1,total_pages:""},e.state=e.initialState,e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.filters,a=e.page,n=e.total_pages;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row mt-4"},s.a.createElement("div",{className:"col-4"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h3",null,"\u0424\u0438\u043b\u044c\u0442\u0440\u044b:"),s.a.createElement(ee,{page:a,filters:t,onChangeFilters:this.onChangeFilters,onChangePage:this.onChangePage,total_pages:n,onReset:this.onReset})))),s.a.createElement("div",{className:"col-8"},s.a.createElement(Ee,{filters:t,page:a,onChangePage:this.onChangePage,total_pages:n,onChangeTotalPage:this.onChangeTotalPage}))))}}]),t}(s.a.Component)),Oe=a(16),je=a(107),Ae=a(108),_e=function(){return s.a.createElement("img",{src:ge.a,alt:"loading",className:"loading"})},Ne=function(e){var t=e.poster_path;return s.a.createElement("img",{className:"card-img-top card-img--height",src:"https://image.tmdb.org/t/p/w500".concat(t||""),alt:""})},we=function(e){var t=e.movie;return s.a.createElement("div",{className:"row mt-4"},s.a.createElement("div",{className:"col-3"},s.a.createElement(Ne,{poster_path:t.poster_path})),s.a.createElement("div",{className:"col-9"},s.a.createElement("h2",null,t.title),s.a.createElement("p",null,t.overview),s.a.createElement(ue,{movie:t}),s.a.createElement(se,{movie:t})))},Ce=function(e){var t=e.movie;return s.a.createElement("div",null,s.a.createElement("div",{className:"row details"},s.a.createElement("div",{className:"col"},s.a.createElement("b",null,"\u0421\u0442\u0430\u0442\u0443\u0441")),s.a.createElement("div",{className:"col "},t.status)),s.a.createElement("div",{className:"row details"},s.a.createElement("div",{className:"col"},s.a.createElement("b",null,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430")),s.a.createElement("div",{className:"col"},t.release_date)),s.a.createElement("div",{className:"row details"},s.a.createElement("div",{className:"col"},s.a.createElement("b",null,"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c")),s.a.createElement("div",{className:"col"},"".concat(t.runtime," min"))),s.a.createElement("div",{className:"row details"},s.a.createElement("div",{className:"col"},s.a.createElement("b",null,"\u042f\u0437\u044b\u043a \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u0430")),s.a.createElement("div",{className:"col"},t.original_language)),s.a.createElement("div",{className:"row details"},s.a.createElement("div",{className:"col"},s.a.createElement("b",null,"\u0421\u0442\u0440\u0430\u043d\u0430")),s.a.createElement("div",{className:"col"},t.production_countries&&t.production_countries.map(function(e){return s.a.createElement("p",{key:e.name,className:"bg-blue"},e.name)}))),s.a.createElement("div",{className:"row details"},s.a.createElement("div",{className:"col"},s.a.createElement("b",null,"\u0411\u044e\u0434\u0436\u0435\u0442")),s.a.createElement("div",{className:"col"},t.budget)),s.a.createElement("div",{className:"row details"},s.a.createElement("div",{className:"col"},s.a.createElement("b",null,"\u0421\u0431\u043e\u0440\u044b")),s.a.createElement("div",{className:"col"},t.revenue)),s.a.createElement("div",{className:"row details"},s.a.createElement("div",{className:"col"},s.a.createElement("b",null,"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f")),s.a.createElement("div",{className:"col"},t.production_companies&&t.production_companies.map(function(e){return s.a.createElement("p",{key:e.name,className:"bg-blue"},e.name)}))),s.a.createElement("div",{className:"row details"},s.a.createElement("div",{className:"col"},s.a.createElement("b",null,"\u0416\u0430\u043d\u0440\u044b")),s.a.createElement("div",{className:"col"},t.genres&&t.genres.map(function(e){return s.a.createElement("p",{key:e.name,className:"bg-blue"},e.name)}))))},ke=a(63),Se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={videos:[],isLoading:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match;this.setState({isLoading:!0}),O.get("/movie/".concat(t.params.id,"/videos"),{params:{language:"ru-RU"}}).then(function(t){return e.setState({videos:t.results,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.videos,a=e.isLoading;return s.a.createElement("div",null,a?s.a.createElement(_e,null):s.a.createElement("div",{className:"row mt-2"},t.map(function(e){return s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"card",key:e.id},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("b",null,e.name),s.a.createElement(ke.a,{url:"https://www.youtube.com/embed/".concat(e.key),title:e.name,width:"100%",height:"400px",frameBorder:"0"}))))))})))}}]),t}(s.a.Component),Pe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={avatars:[],isLoading:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match;this.setState({isLoading:!0}),O.get("/movie/".concat(t.params.id,"/credits")).then(function(t){return e.setState({avatars:t.cast,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.avatars,a=e.isLoading;return s.a.createElement("div",{className:"avatars-container"},a?s.a.createElement(_e,null):t.map(function(e){return s.a.createElement("div",{key:e.cast_id},e.profile_path?s.a.createElement("div",{className:"avatar-container"},s.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.profile_path||""),alt:""})):null)}))}}]),t}(s.a.Component),Le=a(104),Fe=a(105),Ue=a(106),Me=Object(Oe.f)(function(e){var t=e.match;return s.a.createElement(Le.a,{tabs:!0,className:"mt-4"},s.a.createElement(Fe.a,null,s.a.createElement(Ue.a,{exact:!0,to:"/movie/".concat(t.params.id,"/"),tag:me.c},"\u0414\u0435\u0442\u0430\u043b\u0438")),s.a.createElement(Fe.a,null,s.a.createElement(Ue.a,{to:"/movie/".concat(t.params.id,"/videos"),tag:me.c},"\u0412\u0438\u0434\u0435\u043e")),s.a.createElement(Fe.a,null,s.a.createElement(Ue.a,{to:"/movie/".concat(t.params.id,"/credits"),tag:me.c},"\u0410\u043a\u0442\u0435\u0440\u044b")))}),Te=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={movie:{},isLoading:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),O.get("/movie/".concat(this.props.match.params.id),{params:{language:"ru-RU"}}).then(function(t){return e.setState({movie:t,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.movie,a=e.isLoading;return s.a.createElement("div",{className:"container"},a?s.a.createElement(_e,null):s.a.createElement(s.a.Fragment,null,s.a.createElement(we,{movie:t}),s.a.createElement(Me,null),s.a.createElement(je.a,null,s.a.createElement(Ae.a,{sm:"12"},s.a.createElement(Oe.c,null,s.a.createElement(Oe.a,{exact:!0,path:"/movie/:id",render:function(e){return s.a.createElement(Ce,Object.assign({},e,{movie:t}))}}),s.a.createElement(Oe.a,{exact:!0,path:"/movie/:id/videos",component:Se}),s.a.createElement(Oe.a,{exact:!0,path:"/movie/:id/credits",component:Pe}))))))}}]),t}(s.a.Component),xe=F(function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.auth,a=e.authActions;t.session_id&&a.fetchAuth(t.session_id)}},{key:"render",value:function(){var e=this.props.auth;return s.a.createElement(me.a,{basename:"movie_app"},s.a.createElement(Oe.c,null,s.a.createElement(B,{auth:e},s.a.createElement(Oe.a,{exact:!0,path:"/",component:ye}),s.a.createElement(Oe.a,{path:"/movie/:id",component:Te}))))}}]),t}(s.a.Component)),De=(a(98),a(99),new(a(67).a)),Ve={user:null,session_id:De.get("session_id"),isShowModal:!1,favorits:[],watchlists:[]},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SUCCESS_AUTH":return Object(v.a)({},e,{session_id:t.payload.session_id,user:t.payload.user});case"LOGOUT":return Object(v.a)({},e,{session_id:null,user:null,favorits:[],watchlists:[]});case"SHOW_LOGIN_MODAL":return Object(v.a)({},e,{isShowModal:!e.isShowModal});case"UPDATE_FAVORITE_MOVIES":return Object(v.a)({},e,{favorits:t.payload});case"UPDATE_WATCHLIST_MOVIES":return Object(v.a)({},e,{watchlists:t.payload});default:return e}},ze=Object(h.combineReducers)({auth:Xe}),Re=a(64),He=a(65),qe=Object(h.createStore)(ze,Object(Re.composeWithDevTools)(Object(h.applyMiddleware)(He.a,function(e){e.dispatch,e.getState;return function(e){return function(t){return"FETCH_SUCCESS_AUTH"===t.type&&De.set("session_id",t.payload.session_id,{path:"/",maxAge:2592e3}),"LOGOUT"===t.type&&De.remove("session_id"),e(t)}}})));i.a.render(s.a.createElement(p.a,{store:qe},s.a.createElement(xe,null)),document.getElementById("root"))},32:function(e,t,a){e.exports=a.p+"static/media/spinner.f894bce2.gif"},58:function(e,t,a){e.exports=a.p+"static/media/bookmark-24px.84162454.svg"},59:function(e,t,a){e.exports=a.p+"static/media/bookmark_border-24px.3f1c7930.svg"},60:function(e,t,a){e.exports=a.p+"static/media/star_border-24px.f02a9cc4.svg"},61:function(e,t,a){e.exports=a.p+"static/media/star-24px.d0367478.svg"},62:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPkAAADKCAMAAABQfxahAAAAMFBMVEX29vbHx8f5+fnY2Njr6+vExMTPz8/h4eHIyMj19fXw8PDp6env7+/U1NTd3d3R0dGNI6mWAAAFWUlEQVR4nO2d65azKgyGFUVAPNz/3W511m5Ba43SNsHvfX7NWtNh8U44hBDSogAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuygq3B39MKr1Vd8cM1am4+7rJ1FusFrrksD0qd7fx+6Gpvqhvm+5e/wZVHVK9yzddncwuxvPCp+5wYg/b/EF67g7nooyl4SX5cjd81Rcc034NN65u57GZZOXZZP3TFfjVeGlzntray+bvNRDzkZPGOzTcM95eb++vs3kvKfXKcLLKlvl7qIX8yDj4Z6ku9S5DPdtkMGnmXzy417ELaQNBKVc7c2K65v5H3ZYt+i7Qtg46IZGb0kUPscpNtjeOzHiVdfbdJV0GjEufTVZ4ofCp6HQSIhcqPZS5CERK2DZb3860B9owy29TfJPU2CWrjiG+h+aNzCfchZLhfUs1/52TY/hPMCnnkgSYYzPOk7dnOt78okkFb7INO9gn4Y7V5AyLdb0AdgO8Kwr+6Kca6J3zMJLzRSpU/XlaT6f3a2dkyRsmXCOz0+57U3dumU3dm1tqqa81hKX8uKScm0r78JEoPnnzjRXLJ+TzXVjXsaSVFFXd1Y+6d4NICrV9afby0b58D5wqnxzrsVM5rm29VE/lTvnFeZhc11RTlbK3045tZPKn3AMc1CuDbnVji49g3n+Mnyyk9+rarJ0+Tbf9lCpyXnzE53brPeKfOsuXrlu1n/pfPXnsU/u+2jalenJOSbila8DCO2c+Rz0X4+rizJqfE+68tUpWpntrYzu2+gzjjbVpSsfo+61L/00Hf97iBE+6crr6G/2ruFWyz8p6UC28qh372ypq7Dx7nTbP4SoPLz+euulRFZXlMOLbOV90LmDhSsMpZJmumjlkZqjzSrc/ighbdHKwwvPw3OYDgaIGo5bl6w8XLYIGd9hZnd9nHwjWLkNBjvtHxVIOfZmBCsPjUhySYOZTkjHkKzcPrtG8kgDV44w0QUr14HnWpcE6YEWwr4mWXkghHb0DA60x8d0ycqfbhnx5BlkgByHpQRHo57T1qmeIjxcEo8vqSXbPFiwaCnf91PuqMqfB5ybKC/uNNop8/z0ClfmsMJhV3vXtciTodDfxJMJvVdSJlUe3ivldinlxHK8JEq2uX7eIVDiS7oPms/8lBoGVI/jSzpILiBEXyUrj6NRh58PLyUIe4Fo5VFq6mEK0NOBc9lHIKPOHSzv4Q0T6SpZtPIoqPg+CyaMvE4re+7x9tXNyZvJq/swhYhUoEK28vj2XJl94VHjJC9fuPK4e3uXqXqIm6a0LNqHW/oXXiMv2X7bzIEmfp2gaK8lhNt8+6Sujv1SPacBxy0TbpayUB4t2sWS3Ds0j1f1S9Z3/HtqIqR45S/em6ii9cYMg/HdNuub/D5G+jx/Kf1RkGPbLP15s3ybl2fqAZ14C5aFcupzcfU6dypn5fGGvd/mmTdwGczzpZv9cTWUfRdPlPKzrzm0PUj1Pv2SJRfls9nr/brNSyHgk+1lo3zRvvOKpz2tOy/lpS6XrG71f+Urt2zszldXirNkpXwR3wy+nYXP/Z6fZ/b22tvU3JTPZxRt7dhXVdWPS4b/1Xa4drV/9hW2gJf3XHVV/t1qCwUtGeCLsBVQ4qydNMNXVaXlFc5YPom5elLJWPP6eo2ND8C2p81Qg6RfgfcLDYhP6r6BZq4AeuLN9IeFs5d3Z5rq8es2FlR3sizGZ2C3+MzvC75qKV/cofxS/ugnM97O8bxBTGVn5fz4qvr0V7CmlaJ7RqmiNkP1dYxfFyiQwPe/D++GX7kHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4zX++4Uu5ULjYCwAAAABJRU5ErkJggg=="},68:function(e,t,a){e.exports=a(100)},99:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.556c882f.chunk.js.map