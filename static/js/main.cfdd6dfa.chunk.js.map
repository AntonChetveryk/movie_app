{"version":3,"sources":["api/api.js","redux/auth/auth.actions.js","redux/auth/auth.types.js","hoc/withAuth.jsx","components/Header/Login/LoginForm.jsx","components/Header/Login/Login.jsx","components/Header/UserMenu.jsx","components/Header/Header.jsx","components/Filters/SortBy.jsx","components/Filters/SortByYears.jsx","components/Filters/Pagination.jsx","components/Filters/Genres.jsx","components/Filters/GenresContainer.jsx","components/Filters/Filters.jsx","components/Movies/Watchlist .jsx","components/Movies/Favorite.jsx","components/Movies/MovieItem.jsx","components/Movies/MoviesList.jsx","components/Movies/MoviesHOC.jsx","components/Pages/MoviesPage/MoviesPage.jsx","components/UI/Loader.jsx","components/UI/Img.jsx","components/Pages/MoviePage/Tabs/MovieInfo.jsx","components/Pages/MoviePage/Tabs/Detail.jsx","components/Pages/MoviePage/Tabs/Videos.jsx","components/Pages/MoviePage/Tabs/Credits.jsx","components/Pages/MoviePage/Tabs/Navigation.jsx","components/Pages/MoviePage/MoviePage.jsx","components/App.jsx","utils/cookies.js","redux/auth/auth.reducer.js","redux/rootReducer.js","redux/store.js","index.js","img/spinner.gif","img/bookmark-24px.svg","img/bookmark_border-24px.svg","img/star_border-24px.svg","img/star-24px.svg","img/no-photo.png"],"names":["API_URL","API_KEY_3","fetchApi","url","options","arguments","length","undefined","Promise","resolve","reject","fetch","then","response","status","json","data","catch","error","CallApi","_options$params","params","queryStringParams","Object","objectSpread","api_key","concat","queryString","stringify","mode","headers","Content-type","_options$params2","_options$body","body","method","JSON","fetchAuth","session_id","dispatch","type","get","user","updateAuth","fetchFavorites","fetchWatchlists","payload","_ref","_ref2","id","language","favorits","updateFavoriteMovies","results","_ref3","watchlists","updateWatchlistMovies","showLoginModal","onLogOut","mapStateToProps","state","auth","mapDispatchToProps","authActions","bindActionCreators","withAuth","Component","connect","_React$Component","WithAuth","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","inherits","createClass","key","value","react_default","a","createElement","props","React","username","password","repeatPassword","errors","submitting","onChange","e","name","target","_this","setState","prevState","defineProperty","base","handleBlur","event","validateFields","onSubmit","post","request_token","console","log","status_message","onLogin","preventDefault","keys","_this$state","className","htmlFor","classNames","border-red","placeholder","onBlur","onClick","disabled","_this$props","Modal","isOpen","isShowModal","toggle","ModalBody","Login_LoginForm","dropdownOpen","toggleDropdown","handleLogOut","Dropdown","DropdownToggle","tag","data-toggle","aria-expanded","width","src","avatar","gravatar","hash","alt","DropdownMenu","right","DropdownItem","Header","href","Header_UserMenu","Header_Login_Login","SortBy","sort_by","onChangeFilters","map","option","label","PureComponent","defaultProps","years","from","to","i","push","getYears","SortByYears","primary_release_year","Pagination","handleClick","newPage","onChangePage","page","total_pages","Genres","genres","genre","onChangeGenres","checked","with_genres","includes","String","GenresContainer","call","getGenres","link","_event$target","toConsumableArray","filter","el","Filters_Genres","Filters","_this$props$filters","filters","onReset","SortBy_SortBy","SortByYears_SortByYears","GenresContainer_GenresContainer","Pagination_Pagination","isLoading","movie","media_type","media_id","watchlist","isWatchlist","_this$props2","findIndex","item","Bookmark","Bookmarkborder","favorite","isFavorite","Star","Starborder","MovieItem","backdrop_path","poster_path","NoPhoto","react_router_dom","title","vote_average","Movies_Favorite","Watchlist_","MoviesList","movies","Spinner","Movies_MovieItem","movie_id","MoviesHOC","MovieHOC","getMovies","onChangeTotalPage","join","prevProps","assign","App","createContext","initialState","Filters_Filters","Movies_MoviesList","Loader","Img","MovieInfo","UI_Img","overview","Detail","release_date","runtime","original_language","production_countries","country","budget","revenue","production_companies","Videos","videos","_this2","match","res","UI_Loader","video","iframe","height","frameBorder","Credits","avatars","cast","cast_id","profile_path","withRouter","Nav","tabs","NavItem","NavLink","exact","NavLinkRouter","MoviePage","Fragment","Tabs_MovieInfo","Tabs_Navigation","Row","Col","sm","react_router","path","render","routerProps","Tabs_Detail","component","basename","components_Header_Header","MoviesPage","cookies","Cookies","authReducer","action","combineReducers","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","getState","next","set","maxAge","remove","ReactDOM","es","components_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.cfdd6dfa.chunk.js","sourcesContent":["import queryString from \"query-string\";\r\nexport const API_URL = \"https://api.themoviedb.org/3\";\r\nexport const API_KEY_3 = \"b3ff350532467eb0b07cf18d16f4a254\";\r\nexport const API_KEY_4 =\r\n  \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiM2ZmMzUwNTMyNDY3ZWIwYjA3Y2YxOGQxNmY0YTI1NCIsInN1YiI6IjVkZWJlZWIzZGFmNTdjMDAxNWVhOWVhYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.442u7uWzvay-kNfCoZWJ7h-5KWhh9qWCJHHqA3jjOBw\";\r\n\r\nexport const fetchApi = (url, options = {}) => {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(url, options)\r\n      .then(response => {\r\n        if (response.status < 400) {\r\n          return response.json();\r\n        } else {\r\n          throw response;\r\n        }\r\n      })\r\n      .then(data => {\r\n        resolve(data);\r\n      })\r\n      .catch(response => {\r\n        response.json().then(error => {\r\n          reject(error);\r\n        });\r\n      });\r\n  });\r\n};\r\n\r\nexport default class CallApi {\r\n  static get(url, options = {}) {\r\n    const { params = {} } = options;\r\n    const queryStringParams = {\r\n      api_key: API_KEY_3,\r\n      ...params\r\n    };\r\n    return fetchApi(\r\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\"\r\n        }\r\n      }\r\n    );\r\n  }\r\n  static post(url, options = {}) {\r\n    const { params = {}, body = {} } = options;\r\n    const queryStringParams = {\r\n      api_key: API_KEY_3,\r\n      ...params\r\n    };\r\n    return fetchApi(\r\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(body)\r\n      }\r\n    );\r\n  }\r\n}\r\n","import * as types from \"./auth.types\";\r\nimport CallApi from \"../../api/api\";\r\n\r\nexport const fetchAuth = session_id => dispatch => {\r\n  dispatch({\r\n    type: types.FETCH_REQUEST_AUTH\r\n  });\r\n  CallApi.get(\"/account\", {\r\n    params: {\r\n      session_id\r\n    }\r\n  })\r\n    .then(user => {\r\n      dispatch(updateAuth({ user, session_id }));\r\n      dispatch(fetchFavorites({ session_id, user }));\r\n      dispatch(fetchWatchlists({ session_id, user }));\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: types.FETCH_ERROR_AUTH,\r\n        payload: error\r\n      });\r\n    });\r\n};\r\n\r\nexport const updateAuth = ({ session_id, user }) => ({\r\n  type: types.FETCH_SUCCESS_AUTH,\r\n  payload: {\r\n    session_id,\r\n    user\r\n  }\r\n});\r\n\r\nexport const fetchFavorites = ({ session_id, user }) => dispatch => {\r\n  CallApi.get(`/account/${user.id}/favorite/movies`, {\r\n    params: { language: \"ru-RU\", session_id: session_id }\r\n  }).then(favorits => {\r\n    dispatch(updateFavoriteMovies(favorits.results));\r\n  });\r\n};\r\n\r\nexport const updateFavoriteMovies = favorits => {\r\n  return {\r\n    type: types.UPDATE_FAVORITE_MOVIES,\r\n    payload: favorits\r\n  };\r\n};\r\n\r\nexport const fetchWatchlists = ({ session_id, user }) => dispatch => {\r\n  CallApi.get(`/account/${user.id}/watchlist/movies`, {\r\n    params: { language: \"ru-RU\", session_id: session_id }\r\n  }).then(watchlists => {\r\n    dispatch(updateWatchlistMovies(watchlists.results));\r\n  });\r\n};\r\n\r\nexport const updateWatchlistMovies = watchlists => {\r\n  return {\r\n    type: types.UPDATE_WATCHLIST_MOVIES,\r\n    payload: watchlists\r\n  };\r\n};\r\n\r\nexport const showLoginModal = () => {\r\n  return {\r\n    type: types.SHOW_LOGIN_MODAL\r\n  };\r\n};\r\n\r\nexport const onLogOut = () => {\r\n  return {\r\n    type: types.LOGOUT\r\n  };\r\n};\r\n","export const FETCH_SUCCESS_AUTH = \"FETCH_SUCCESS_AUTH\";\r\nexport const SHOW_LOGIN_MODAL = \"SHOW_LOGIN_MODAL\";\r\nexport const LOGOUT = \"LOGOUT\";\r\nexport const UPDATE_FAVORITE_MOVIES = \"UPDATE_FAVORITE_MOVIES\";\r\nexport const UPDATE_WATCHLIST_MOVIES = \"UPDATE_WATCHLIST_MOVIES\";\r\nexport const FETCH_REQUEST_AUTH = \"FETCH_REQUEST_AUTH\";\r\nexport const FETCH_ERROR_AUTH = \"FETCH_ERROR_AUTH\";\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport * as authActions from \"../redux/auth/auth.actions\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    auth: state.auth\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  authActions: bindActionCreators(authActions, dispatch)\r\n});\r\n\r\nexport const withAuth = Component =>\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(\r\n    class WithAuth extends React.Component {\r\n      render() {\r\n        return <Component {...this.props} />;\r\n      }\r\n    }\r\n  );\r\n","import React from 'react'\r\nimport CallApi from '../../../api/api'\r\nimport classNames from 'classnames'\r\nimport { withAuth } from '../../../hoc/withAuth'\r\n\r\nclass LoginForm extends React.Component {\r\n  state = {\r\n    username: 'chetverykanton92@gmail.com',\r\n    password: 'anton1992',\r\n    repeatPassword: 'anton1992',\r\n    errors: {},\r\n    submitting: false,\r\n  }\r\n\r\n  onChange = (e) => {\r\n    const name = e.target.name\r\n    const value = e.target.value\r\n    this.setState((prevState) => ({\r\n      [name]: value,\r\n      errors: {\r\n        ...prevState.errors,\r\n        base: null,\r\n        [name]: null,\r\n      },\r\n    }))\r\n  }\r\n\r\n  handleBlur = (event) => {\r\n    const { name } = event.target\r\n    const errors = this.validateFields()\r\n    const error = errors[name]\r\n    if (error) {\r\n      this.setState((prevState) => ({\r\n        errors: {\r\n          ...prevState.errors,\r\n          [name]: error,\r\n        },\r\n      }))\r\n    }\r\n  }\r\n\r\n  validateFields = () => {\r\n    const errors = {}\r\n\r\n    if (this.state.username === '') {\r\n      errors.username = 'Not empty'\r\n    }\r\n\r\n    if (this.state.password === '') {\r\n      errors.password = 'Обязательное'\r\n    }\r\n\r\n    if (this.state.repeatPassword !== this.state.password) {\r\n      errors.repeatPassword = 'Должен быть равен паролю'\r\n    }\r\n\r\n    return errors\r\n  }\r\n\r\n  onSubmit = () => {\r\n    this.setState({\r\n      submitting: true,\r\n    })\r\n    let session_id\r\n    //1\r\n    CallApi.get(`/authentication/token/new`)\r\n\r\n      .then((data) => {\r\n        //2\r\n        return CallApi.post('/authentication/token/validate_with_login', {\r\n          body: {\r\n            username: this.state.username,\r\n            password: this.state.password,\r\n            request_token: data.request_token,\r\n          },\r\n        })\r\n      })\r\n      .then((data) => {\r\n        //3\r\n        return CallApi.post('/authentication/session/new', {\r\n          body: {\r\n            request_token: data.request_token,\r\n          },\r\n        })\r\n      })\r\n      .then((data) => {\r\n        session_id = data.session_id\r\n\r\n        //4\r\n        return CallApi.get('/account', {\r\n          params: {\r\n            session_id: session_id,\r\n          },\r\n        })\r\n      })\r\n      .then((user) => {\r\n        this.setState(\r\n          {\r\n            submitting: false,\r\n          },\r\n          () => this.props.authActions.updateAuth({ session_id, user })\r\n        )\r\n        this.props.authActions.fetchFavorites({ user, session_id })\r\n        this.props.authActions.fetchWatchlists({ user, session_id })\r\n      })\r\n      .catch((error) => {\r\n        console.log('error', error)\r\n        this.setState({\r\n          submitting: false,\r\n          errors: {\r\n            base: error.status_message,\r\n          },\r\n        })\r\n      })\r\n  }\r\n\r\n  onLogin = (e) => {\r\n    e.preventDefault()\r\n    const errors = this.validateFields()\r\n    if (Object.keys(errors).length > 0) {\r\n      this.setState((prevState) => ({\r\n        errors: {\r\n          ...prevState.errors,\r\n          ...errors,\r\n        },\r\n      }))\r\n    } else {\r\n      this.onSubmit()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      username,\r\n      password,\r\n      repeatPassword,\r\n      errors,\r\n      submitting,\r\n    } = this.state\r\n    return (\r\n      <div className=\"form-login-container\">\r\n        <form className=\"form-login\">\r\n          <h1 className=\"h3 mb-3 font-weight-normal text-center\">\r\n            Авторизация\r\n          </h1>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"username\">Пользователь</label>\r\n            <input\r\n              type=\"text\"\r\n              className={classNames('form-control', {\r\n                'border-red': errors.username,\r\n              })}\r\n              id=\"username\"\r\n              placeholder=\"Пользователь\"\r\n              name=\"username\"\r\n              value={username}\r\n              onChange={this.onChange}\r\n              onBlur={this.handleBlur}\r\n            />\r\n            {errors.username && (\r\n              <div className=\"invalid-feedback\">{errors.username}</div>\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Пароль</label>\r\n            <input\r\n              type=\"password\"\r\n              className={classNames('form-control', {\r\n                'border-red': errors.password,\r\n              })}\r\n              id=\"password\"\r\n              placeholder=\"Пароль\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={this.onChange}\r\n              onBlur={this.handleBlur}\r\n            />\r\n            {errors.password && (\r\n              <div className=\"invalid-feedback\">{errors.password}</div>\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"repeatPassword\">Повторите пароль</label>\r\n            <input\r\n              type=\"password\"\r\n              className={classNames('form-control', {\r\n                'border-red': errors.repeatPassword,\r\n              })}\r\n              id=\"repeatPassword\"\r\n              placeholder=\"Повторите пароль\"\r\n              name=\"repeatPassword\"\r\n              value={repeatPassword}\r\n              onChange={this.onChange}\r\n              onBlur={this.handleBlur}\r\n            />\r\n            {errors.repeatPassword && (\r\n              <div className=\"invalid-feedback\">{errors.repeatPassword}</div>\r\n            )}\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-lg btn-primary btn-block\"\r\n            onClick={this.onLogin}\r\n            disabled={submitting}\r\n          >\r\n            Вход\r\n          </button>\r\n          {errors.base && (\r\n            <div className=\"invalid-feedback text-center\">{errors.base}</div>\r\n          )}\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withAuth(LoginForm)\r\n","import React from \"react\";\r\nimport { withAuth } from \"../../../hoc/withAuth\";\r\nimport { Modal, ModalBody } from \"reactstrap\";\r\nimport LoginForm from \"./LoginForm\";\r\n\r\nclass Login extends React.Component {\r\n  render() {\r\n    const { auth, authActions } = this.props;\r\n    return (\r\n      <div>\r\n        <button\r\n          className=\"btn btn-success\"\r\n          type=\"button\"\r\n          onClick={authActions.showLoginModal}\r\n        >\r\n          Login\r\n        </button>\r\n        <Modal isOpen={auth.isShowModal} toggle={authActions.showLoginModal}>\r\n          <ModalBody>\r\n            <LoginForm />\r\n          </ModalBody>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Login);\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Dropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem\r\n} from \"reactstrap\";\r\nimport { withAuth } from \"../../hoc/withAuth\";\r\nimport { fetchApi, API_URL, API_KEY_3 } from \"../../api/api\";\r\n\r\nclass UserMenu extends Component {\r\n  state = {\r\n    dropdownOpen: false\r\n  };\r\n\r\n  toggleDropdown = () => {\r\n    this.setState(prevState => ({\r\n      dropdownOpen: !prevState.dropdownOpen\r\n    }));\r\n  };\r\n\r\n  handleLogOut = () => {\r\n    fetchApi(`${API_URL}/authentication/session?api_key=${API_KEY_3}`, {\r\n      method: \"DELETE\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        session_id: this.props.auth.session_id\r\n      })\r\n    }).then(() => {\r\n      this.props.authActions.onLogOut();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { auth } = this.props;\r\n    return (\r\n      <Dropdown isOpen={this.state.dropdownOpen} toggle={this.toggleDropdown}>\r\n        <DropdownToggle\r\n          tag=\"div\"\r\n          onClick={this.toggleDropdown}\r\n          data-toggle=\"dropdown\"\r\n          aria-expanded={this.state.dropdownOpen}\r\n        >\r\n          <img\r\n            width=\"40\"\r\n            className=\"rounded-circle\"\r\n            src={`https://secure.gravatar.com/avatar/${auth.user.avatar.gravatar.hash}.jpg?s=64\"`}\r\n            alt=\"\"\r\n            onClick={this.toggleDropdown}\r\n          />\r\n        </DropdownToggle>\r\n        <DropdownMenu right>\r\n          <DropdownItem onClick={this.handleLogOut}>Выйти</DropdownItem>\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(UserMenu);\r\n","import React from \"react\";\r\nimport Login from \"./Login/Login\";\r\nimport UserMenu from \"./UserMenu\";\r\n\r\nclass Header extends React.Component {\r\n  render() {\r\n    const { user } = this.props;\r\n    return (\r\n      <nav className=\"navbar navbar-dark bg-primary\">\r\n        <div className=\"container\">\r\n          <ul className=\"navbar-nav\">\r\n            <li className=\"nav-item active\">\r\n              <a href=\"/\" className=\"nav-link\">\r\n                Home\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          {user ? <UserMenu /> : <Login />}\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class SortBy extends React.PureComponent {\r\n  static propTypes = {\r\n    sort_by: PropTypes.string.isRequired,\r\n    onChangeFilters: PropTypes.func.isRequired\r\n  };\r\n\r\n  static defaultProps = {\r\n    options: [\r\n      {\r\n        label: \"Популярные по убыванию\",\r\n        value: \"popularity.desc\"\r\n      },\r\n      {\r\n        label: \"Популярные по возростанию\",\r\n        value: \"popularity.asc\"\r\n      },\r\n      {\r\n        label: \"Рейтинг по убыванию\",\r\n        value: \"vote_average.desc\"\r\n      },\r\n      {\r\n        label: \"Рейтинг по возростанию\",\r\n        value: \"vote_average.asc\"\r\n      }\r\n    ]\r\n  };\r\n  render() {\r\n    const { sort_by, onChangeFilters, options } = this.props;\r\n\r\n    return (\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"sort_by\">Сортировать по:</label>\r\n        <select\r\n          className=\"form-control\"\r\n          value={sort_by}\r\n          onChange={onChangeFilters}\r\n          id=\"sort_by\"\r\n          name=\"sort_by\"\r\n        >\r\n          {options.map(option => (\r\n            <option key={option.value} value={option.value}>\r\n              {option.label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nfunction getYears(from, to) {\r\n  let years = [];\r\n  for (let i = from; i <= to; i++) {\r\n    years.push(i);\r\n  }\r\n  return years;\r\n}\r\n\r\nconst years = getYears(1950, 2025);\r\n\r\nexport default class SortByYears extends React.PureComponent {\r\n  render() {\r\n    const { primary_release_year, onChangeFilters } = this.props;\r\n    return (\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"primary_release_year\">Сортировать по году:</label>\r\n        <select\r\n          className=\"form-control\"\r\n          value={primary_release_year}\r\n          onChange={onChangeFilters}\r\n          id=\"primary_release_year\"\r\n          name=\"primary_release_year\"\r\n        >\r\n          {years.map(option => (\r\n            <option key={option} value={option}>\r\n              {option}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class Pagination extends React.Component {\r\n  handleClick = newPage => {\r\n    return () => {\r\n      this.props.onChangePage(newPage);\r\n    };\r\n  };\r\n  render() {\r\n    const { page, total_pages } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"btn-group\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-light\"\r\n            onClick={this.handleClick(page - 1)}\r\n            disabled={page === 1}\r\n          >\r\n            Назад\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-light\"\r\n            onClick={this.handleClick(page + 1)}\r\n            disabled={page === total_pages}\r\n          >\r\n            Вперед\r\n          </button>\r\n        </div>\r\n        <div className=\"total-pages mt-2\">{`${page} из ${total_pages}`}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nconst Genres = props => (\r\n  <div className=\"genres\">\r\n    {props.genres.map(genre => (\r\n      <div key={genre.id} className=\"checkbox-container\">\r\n        <input\r\n          type=\"checkbox\"\r\n          name={genre.name}\r\n          id={genre.id}\r\n          value={genre.id}\r\n          onChange={props.onChangeGenres}\r\n          checked={props.with_genres.includes(String(genre.id))}\r\n        />\r\n        <label htmlFor={genre.id} className=\"ml-2\">\r\n          {genre.name}\r\n        </label>\r\n      </div>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default Genres;\r\n","import React from \"react\";\r\nimport { API_KEY_3 } from \"../../api/api\";\r\nimport Genres from \"./Genres\";\r\n\r\nexport default class GenresContainer extends React.PureComponent {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      genres: []\r\n    };\r\n  }\r\n\r\n  getGenres = () => {\r\n    const link = `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY_3}&language=ru-RU`;\r\n    fetch(link)\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        this.setState({\r\n          genres: data.genres\r\n        });\r\n      });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getGenres();\r\n  }\r\n\r\n  onChangeGenres = event => {\r\n    const { with_genres } = this.props;\r\n    const { value, checked } = event.target;\r\n\r\n    this.props.onChangeFilters({\r\n      target: {\r\n        name: \"with_genres\",\r\n        value: checked\r\n          ? [...with_genres, value]\r\n          : with_genres.filter(el => el !== value)\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { genres } = this.state;\r\n    const { with_genres } = this.props;\r\n    return (\r\n      <Genres\r\n        genres={genres}\r\n        onChangeGenres={this.onChangeGenres}\r\n        with_genres={with_genres}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport SortBy from \"./SortBy\";\r\nimport SortByYears from \"./SortByYears\";\r\nimport Pagination from \"./Pagination\";\r\nimport GenresContainer from \"./GenresContainer\";\r\n\r\nexport default class Filters extends React.Component {\r\n  render() {\r\n    const {\r\n      filters: { sort_by, primary_release_year, with_genres },\r\n      onChangeFilters,\r\n      onChangePage,\r\n      page,\r\n      total_pages,\r\n      onReset\r\n    } = this.props;\r\n    return (\r\n      <form className=\"mb-3\">\r\n        <button type=\"button\" className=\"btn btn-light mb-2\" onClick={onReset}>\r\n          Сбросить фильтры\r\n        </button>\r\n        <SortBy sort_by={sort_by} onChangeFilters={onChangeFilters} />\r\n        <SortByYears\r\n          primary_release_year={primary_release_year}\r\n          onChangeFilters={onChangeFilters}\r\n        />\r\n\r\n        <h3>Жанры:</h3>\r\n        <GenresContainer\r\n          onChangeFilters={onChangeFilters}\r\n          with_genres={with_genres}\r\n        />\r\n        <Pagination\r\n          page={page}\r\n          onChangePage={onChangePage}\r\n          total_pages={total_pages}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { withAuth } from \"../../hoc/withAuth\";\r\nimport CallApi from \"../../api/api\";\r\nimport Bookmark from \"../../img/bookmark-24px.svg\";\r\nimport Bookmarkborder from \"../../img/bookmark_border-24px.svg\";\r\n\r\nclass Watchlist extends React.Component {\r\n  state = {\r\n    isLoading: false\r\n  };\r\n  onClick = () => {\r\n    const { auth, authActions, movie } = this.props;\r\n    if (auth.user) {\r\n      this.setState({\r\n        isLoading: true\r\n      });\r\n      CallApi.post(`/account/${auth.user.id}/watchlist`, {\r\n        params: {\r\n          session_id: auth.session_id\r\n        },\r\n        body: {\r\n          media_type: \"movie\",\r\n          media_id: movie.id,\r\n          watchlist: !this.isWatchlist()\r\n        }\r\n      }).then(() =>\r\n        this.setState(\r\n          {\r\n            isLoading: false\r\n          },\r\n          () => authActions.fetchWatchlists(auth)\r\n        )\r\n      );\r\n    } else {\r\n      authActions.showLoginModal();\r\n    }\r\n  };\r\n\r\n  isWatchlist = () => {\r\n    const { auth, movie } = this.props;\r\n    return auth.watchlists.findIndex(item => item.id === movie.id) !== -1;\r\n  };\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    return (\r\n      <img\r\n        src={this.isWatchlist() ? Bookmark : Bookmarkborder}\r\n        alt=\"bookmark\"\r\n        onClick={this.onClick}\r\n        className={isLoading ? \"disable\" : null}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Watchlist);\r\n","import React from \"react\";\r\nimport { withAuth } from \"../../hoc/withAuth\";\r\nimport CallApi from \"../../api/api\";\r\nimport Starborder from \"../../img/star_border-24px.svg\";\r\nimport Star from \"../../img/star-24px.svg\";\r\n\r\nclass Favorite extends React.Component {\r\n  state = {\r\n    isLoading: false\r\n  };\r\n\r\n  onClick = () => {\r\n    const { auth, movie } = this.props;\r\n    if (auth.user) {\r\n      this.setState({\r\n        isLoading: true\r\n      });\r\n      CallApi.post(`/account/${auth.user.id}/favorite`, {\r\n        params: {\r\n          session_id: auth.session_id\r\n        },\r\n        body: {\r\n          media_type: \"movie\",\r\n          media_id: movie.id,\r\n          favorite: !this.isFavorite()\r\n        }\r\n      }).then(() =>\r\n        this.setState(\r\n          {\r\n            isLoading: false\r\n          },\r\n          () => this.props.authActions.fetchFavorites(auth)\r\n        )\r\n      );\r\n    } else {\r\n      this.props.authActions.showLoginModal();\r\n    }\r\n  };\r\n\r\n  isFavorite = () => {\r\n    const { auth, movie } = this.props;\r\n    return auth.favorits.findIndex(item => item.id === movie.id) !== -1;\r\n  };\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    return (\r\n      <img\r\n        src={this.isFavorite() ? Star : Starborder}\r\n        alt=\"star\"\r\n        onClick={this.onClick}\r\n        className={isLoading ? \"disable\" : null}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Favorite);\r\n","import React from \"react\";\r\nimport Watchlist from \"./Watchlist \";\r\nimport Favorite from \"./Favorite\";\r\nimport { Link } from \"react-router-dom\";\r\nimport NoPhoto from \"../../img/no-photo.png\";\r\n\r\nclass MovieItem extends React.Component {\r\n  render() {\r\n    const { movie } = this.props;\r\n    return (\r\n      <div className=\"card\">\r\n        {movie.backdrop_path || movie.poster_path ? (\r\n          <img\r\n            className=\"card-img-top card-img--height\"\r\n            src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path ||\r\n              movie.poster_path}`}\r\n            alt=\"\"\r\n          />\r\n        ) : (\r\n          <img className=\"card-img-top card-img--height\" src={NoPhoto} alt=\"\" />\r\n        )}\r\n\r\n        <div className=\"card-body\">\r\n          <Link className=\"card-title\" to={`/movie/${movie.id}`}>\r\n            {movie.title}\r\n          </Link>\r\n          <div className=\"card-text\">Рейтинг: {movie.vote_average}</div>\r\n          <Favorite movie={movie} />\r\n          <Watchlist movie={movie} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieItem;\r\n","import React from \"react\";\r\nimport MovieItem from \"./MovieItem\";\r\nimport Spinner from \"../../img/spinner.gif\";\r\nimport PropTypes from \"prop-types\";\r\nimport MoviesHOC from \"./MoviesHOC\";\r\n\r\nconst MoviesList = ({ movies, isLoading }) => (\r\n  <div className=\"row movies-list-container\">\r\n    {isLoading ? (\r\n      <img src={Spinner} alt=\"loading\" className=\"loading\" />\r\n    ) : (\r\n      movies.map(movie => {\r\n        return (\r\n          <div key={movie.id} className=\"col-6 mb-4\">\r\n            <MovieItem movie={movie} movie_id={movie.id} />\r\n          </div>\r\n        );\r\n      })\r\n    )}\r\n  </div>\r\n);\r\n\r\nMoviesList.defaultProps = {\r\n  movies: []\r\n};\r\n\r\nMoviesList.propTypes = {\r\n  movies: PropTypes.array.isRequired\r\n};\r\n\r\nexport default MoviesHOC(MoviesList);\r\n","import React from \"react\";\r\nimport CallApi from \"../../api/api\";\r\n\r\nexport default Component =>\r\n  class MovieHOC extends React.Component {\r\n    constructor() {\r\n      super();\r\n\r\n      this.state = {\r\n        movies: [],\r\n        isLoading: false\r\n      };\r\n    }\r\n    getMovies = (filters, page) => {\r\n      const { sort_by, primary_release_year, with_genres } = filters;\r\n      const queryStringParams = {\r\n        language: \"ru-RU\",\r\n        sort_by,\r\n        page,\r\n        primary_release_year\r\n      };\r\n\r\n      const { onChangeTotalPage } = this.props;\r\n\r\n      if (with_genres.length > 0) {\r\n        queryStringParams.with_genres = with_genres.join(\",\");\r\n      }\r\n\r\n      this.setState({\r\n        isLoading: !this.state.isLoading\r\n      });\r\n\r\n      CallApi.get(\"/discover/movie\", {\r\n        params: queryStringParams\r\n      }).then(data => {\r\n        this.setState({\r\n          isLoading: !this.state.isLoading,\r\n          movies: data.results\r\n        });\r\n        onChangeTotalPage(data.total_pages);\r\n      });\r\n    };\r\n\r\n    componentDidMount() {\r\n      this.getMovies(this.props.filters, this.props.page);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n      if (this.props.filters !== prevProps.filters) {\r\n        this.props.onChangePage(1);\r\n        this.getMovies(this.props.filters, 1);\r\n      }\r\n      if (this.props.page !== prevProps.page) {\r\n        this.getMovies(this.props.filters, this.props.page);\r\n      }\r\n    }\r\n\r\n    render() {\r\n      const { movies, isLoading } = this.state;\r\n\r\n      return (\r\n        <Component {...this.props} movies={movies} isLoading={isLoading} />\r\n      );\r\n    }\r\n  };\r\n","import React from \"react\";\r\nimport Filters from \"../../Filters/Filters\";\r\nimport MoviesList from \"../../Movies/MoviesList\";\r\n//import { API_URL, API_KEY_3, fetchApi } from \"../../../api/api\";\r\n//import CallApi from \"../../../api/api\";\r\n\r\nexport const MoviesPage = React.createContext();\r\n\r\nexport default class App extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.initialState = {\r\n      filters: {\r\n        sort_by: \"popularity.desc\",\r\n        primary_release_year: \"2020\",\r\n        with_genres: []\r\n      },\r\n      page: 1,\r\n      total_pages: \"\"\r\n    };\r\n    this.state = this.initialState;\r\n  }\r\n\r\n  onChangeFilters = event => {\r\n    const { name, value } = event.target;\r\n\r\n    this.setState(state => ({\r\n      filters: {\r\n        ...state.filters,\r\n        [name]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  onChangePage = page => {\r\n    this.setState({\r\n      page\r\n    });\r\n  };\r\n\r\n  onChangeTotalPage = total_pages => {\r\n    this.setState({\r\n      total_pages\r\n    });\r\n  };\r\n\r\n  onReset = event => {\r\n    event.preventDefault();\r\n    this.setState(this.initialState);\r\n  };\r\n\r\n  render() {\r\n    const { filters, page, total_pages } = this.state;\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-4\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h3>Фильтры:</h3>\r\n                <Filters\r\n                  page={page}\r\n                  filters={filters}\r\n                  onChangeFilters={this.onChangeFilters}\r\n                  onChangePage={this.onChangePage}\r\n                  total_pages={total_pages}\r\n                  onReset={this.onReset}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-8\">\r\n            <MoviesList\r\n              filters={filters}\r\n              page={page}\r\n              onChangePage={this.onChangePage}\r\n              total_pages={total_pages}\r\n              onChangeTotalPage={this.onChangeTotalPage}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Spinner from \"../../../src/img/spinner.gif\";\r\n\r\nconst Loader = () => <img src={Spinner} alt=\"loading\" className=\"loading\" />;\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\n\r\nconst Img = ({ poster_path }) => (\r\n  <img\r\n    className=\"card-img-top card-img--height\"\r\n    src={`https://image.tmdb.org/t/p/w500${poster_path || \"\"}`}\r\n    alt=\"\"\r\n  />\r\n);\r\n\r\nexport default Img;\r\n","import React from \"react\";\r\nimport Watchlist from \"../../../Movies/Watchlist \";\r\nimport Favorite from \"../../../Movies/Favorite\";\r\nimport Img from \"../../../UI/Img\";\r\n\r\nconst MovieInfo = ({ movie }) => (\r\n  <div className=\"row mt-4\">\r\n    <div className=\"col-3\">\r\n      <Img poster_path={movie.poster_path} />\r\n    </div>\r\n    <div className=\"col-9\">\r\n      <h2>{movie.title}</h2>\r\n      <p>{movie.overview}</p>\r\n      <Favorite movie={movie} />\r\n      <Watchlist movie={movie} />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default MovieInfo;\r\n","import React from \"react\";\r\n\r\nconst Detail = ({ movie }) => (\r\n  <div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Статус</b>\r\n      </div>\r\n      <div className=\"col \">{movie.status}</div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Дата выхода</b>\r\n      </div>\r\n      <div className=\"col\">{movie.release_date}</div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Продолжительность</b>\r\n      </div>\r\n      <div className=\"col\">{`${movie.runtime} min`}</div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Язык оригинала</b>\r\n      </div>\r\n      <div className=\"col\">{movie.original_language}</div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Страна</b>\r\n      </div>\r\n      <div className=\"col\">\r\n        {movie.production_countries &&\r\n          movie.production_countries.map(country => {\r\n            return (\r\n              <p key={country.name} className=\"bg-blue\">\r\n                {country.name}\r\n              </p>\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Бюджет</b>\r\n      </div>\r\n      <div className=\"col\">{movie.budget}</div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Сборы</b>\r\n      </div>\r\n      <div className=\"col\">{movie.revenue}</div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Компания</b>\r\n      </div>\r\n      <div className=\"col\">\r\n        {movie.production_companies &&\r\n          movie.production_companies.map(genre => {\r\n            return (\r\n              <p key={genre.name} className=\"bg-blue\">\r\n                {genre.name}\r\n              </p>\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Жанры</b>\r\n      </div>\r\n      <div className=\"col\">\r\n        {movie.genres &&\r\n          movie.genres.map(genre => {\r\n            return (\r\n              <p key={genre.name} className=\"bg-blue\">\r\n                {genre.name}\r\n              </p>\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Detail;\r\n","import React from 'react'\r\nimport CallApi from '../../../../api/api'\r\nimport Iframe from 'react-iframe'\r\nimport Loader from '../../../UI/Loader'\r\n\r\nexport default class Videos extends React.Component {\r\n  state = {\r\n    videos: [],\r\n    isLoading: false,\r\n  }\r\n  componentDidMount() {\r\n    const { match } = this.props\r\n    this.setState({\r\n      isLoading: true,\r\n    })\r\n    CallApi.get(`/movie/${match.params.id}/videos`, {\r\n      params: { language: 'ru-RU' },\r\n    }).then(res => this.setState({ videos: res.results, isLoading: false }))\r\n  }\r\n\r\n  render() {\r\n    const { videos, isLoading } = this.state\r\n    return (\r\n      <div>\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          <div className=\"row mt-2\">\r\n            {videos.map(video => {\r\n              return (\r\n                <div className=\"col-6\">\r\n                  <div className=\"card\" key={video.id}>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col\">\r\n                          <b>{video.name}</b>\r\n                          <Iframe\r\n                            url={`https://www.youtube.com/embed/${video.key}`}\r\n                            title={video.name}\r\n                            width=\"100%\"\r\n                            height=\"400px\"\r\n                            frameBorder=\"0\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport CallApi from \"../../../../api/api\";\r\nimport Loader from \"../../../UI/Loader\";\r\n\r\nexport default class Credits extends React.Component {\r\n  state = {\r\n    avatars: [],\r\n    isLoading: false\r\n  };\r\n  componentDidMount() {\r\n    const { match } = this.props;\r\n    this.setState({\r\n      isLoading: true\r\n    });\r\n    CallApi.get(`/movie/${match.params.id}/credits`).then(res =>\r\n      this.setState({ avatars: res.cast, isLoading: false })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { avatars, isLoading } = this.state;\r\n    return (\r\n      <div className=\"avatars-container\">\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          avatars.map(avatar => {\r\n            return (\r\n              <div key={avatar.cast_id}>\r\n                {avatar.profile_path ? (\r\n                  <div className=\"avatar-container\">\r\n                    <img\r\n                      src={`https://image.tmdb.org/t/p/w500${avatar.profile_path ||\r\n                        \"\"}`}\r\n                      alt=\"\"\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Nav, NavItem, NavLink } from \"reactstrap\";\r\nimport { withRouter } from \"react-router\";\r\nimport { NavLink as NavLinkRouter } from \"react-router-dom\";\r\n\r\nconst Navigation = ({ match }) => (\r\n  <Nav tabs className=\"mt-4\">\r\n    <NavItem>\r\n      <NavLink exact to={`/movie/${match.params.id}/`} tag={NavLinkRouter}>\r\n        Детали\r\n      </NavLink>\r\n    </NavItem>\r\n    <NavItem>\r\n      <NavLink to={`/movie/${match.params.id}/videos`} tag={NavLinkRouter}>\r\n        Видео\r\n      </NavLink>\r\n    </NavItem>\r\n    <NavItem>\r\n      <NavLink to={`/movie/${match.params.id}/credits`} tag={NavLinkRouter}>\r\n        Актеры\r\n      </NavLink>\r\n    </NavItem>\r\n  </Nav>\r\n);\r\n\r\nexport default withRouter(Navigation);\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router\";\r\nimport { Row, Col } from \"reactstrap\";\r\nimport Loader from \"../../UI/Loader\";\r\n\r\nimport CallApi from \"../../../api/api\";\r\nimport MovieInfo from \"./Tabs/MovieInfo\";\r\nimport Detail from \"./Tabs/Detail\";\r\nimport Videos from \"./Tabs/Videos\";\r\nimport Credits from \"./Tabs/Credits\";\r\nimport Navigation from \"./Tabs/Navigation\";\r\n\r\nexport default class MoviePage extends React.Component {\r\n  state = {\r\n    movie: {},\r\n    isLoading: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      isLoading: true\r\n    });\r\n    CallApi.get(`/movie/${this.props.match.params.id}`, {\r\n      params: { language: \"ru-RU\" }\r\n    }).then(response => this.setState({ movie: response, isLoading: false }));\r\n  }\r\n\r\n  render() {\r\n    const { movie, isLoading } = this.state;\r\n    return (\r\n      <div className=\"container\">\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          <>\r\n            <MovieInfo movie={movie} />\r\n            <Navigation />\r\n            <Row>\r\n              <Col sm=\"12\">\r\n                <Switch>\r\n                  <Route\r\n                    exact\r\n                    path=\"/movie/:id\"\r\n                    render={routerProps => (\r\n                      <Detail {...routerProps} movie={movie} />\r\n                    )}\r\n                  ></Route>\r\n                  <Route exact path=\"/movie/:id/videos\" component={Videos} />\r\n                  <Route exact path=\"/movie/:id/credits\" component={Credits} />\r\n                </Switch>\r\n              </Col>\r\n            </Row>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nimport Header from './Header/Header'\r\nimport MoviesPage from './Pages/MoviesPage/MoviesPage'\r\nimport MoviePage from './Pages/MoviePage/MoviePage'\r\nimport { BrowserRouter, Route } from 'react-router-dom'\r\nimport { withAuth } from '../hoc/withAuth'\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    const { auth, authActions } = this.props\r\n\r\n    if (auth.session_id) {\r\n      authActions.fetchAuth(auth.session_id)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { auth } = this.props\r\n    return (\r\n      <BrowserRouter basename=\"movie_app\">\r\n        <div>\r\n          <Header user={auth.user} />\r\n          <Route exact path=\"/\" component={MoviesPage} />\r\n          <Route path=\"/movie/:id\" component={MoviePage} />\r\n        </div>\r\n      </BrowserRouter>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withAuth(App)\r\n","import Cookies from \"universal-cookie\";\r\n\r\nexport const cookies = new Cookies();\r\n","import * as types from \"./auth.types\";\r\nimport { cookies } from \"../../utils/cookies\";\r\n\r\nconst initialState = {\r\n  user: null,\r\n  session_id: cookies.get(\"session_id\"),\r\n  isShowModal: false,\r\n  favorits: [],\r\n  watchlists: []\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.FETCH_SUCCESS_AUTH:\r\n      return {\r\n        ...state,\r\n        session_id: action.payload.session_id,\r\n        user: action.payload.user\r\n      };\r\n\r\n    case types.LOGOUT:\r\n      return {\r\n        ...state,\r\n        session_id: null,\r\n        user: null,\r\n        favorits: [],\r\n        watchlists: []\r\n      };\r\n\r\n    case types.SHOW_LOGIN_MODAL:\r\n      return {\r\n        ...state,\r\n        isShowModal: !state.isShowModal\r\n      };\r\n\r\n    case types.UPDATE_FAVORITE_MOVIES:\r\n      return {\r\n        ...state,\r\n        favorits: action.payload\r\n      };\r\n    case types.UPDATE_WATCHLIST_MOVIES:\r\n      return {\r\n        ...state,\r\n        watchlists: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./auth/auth.reducer\";\r\n\r\nexport default combineReducers({\r\n  auth: authReducer\r\n});\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport rootReducer from './rootReducer'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\nimport { cookies } from '../utils/cookies'\r\nimport { FETCH_SUCCESS_AUTH, LOGOUT } from './auth/auth.types'\r\n\r\nconst updateCookies = ({ dispatch, getState }) => next => action => {\r\n  if (action.type === FETCH_SUCCESS_AUTH) {\r\n    cookies.set('session_id', action.payload.session_id, {\r\n      path: '/',\r\n      maxAge: 2592000,\r\n    })\r\n  }\r\n\r\n  if (action.type === LOGOUT) {\r\n    cookies.remove('session_id')\r\n  }\r\n  return next(action)\r\n}\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk, updateCookies))\r\n)\r\n\r\nexport default store\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./stylesheets/index.css\";\r\nimport store from \"./redux/store\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/spinner.f894bce2.gif\";","module.exports = __webpack_public_path__ + \"static/media/bookmark-24px.84162454.svg\";","module.exports = __webpack_public_path__ + \"static/media/bookmark_border-24px.3f1c7930.svg\";","module.exports = __webpack_public_path__ + \"static/media/star_border-24px.f02a9cc4.svg\";","module.exports = __webpack_public_path__ + \"static/media/star-24px.d0367478.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPkAAADKCAMAAABQfxahAAAAMFBMVEX29vbHx8f5+fnY2Njr6+vExMTPz8/h4eHIyMj19fXw8PDp6env7+/U1NTd3d3R0dGNI6mWAAAFWUlEQVR4nO2d65azKgyGFUVAPNz/3W511m5Ba43SNsHvfX7NWtNh8U44hBDSogAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuygq3B39MKr1Vd8cM1am4+7rJ1FusFrrksD0qd7fx+6Gpvqhvm+5e/wZVHVK9yzddncwuxvPCp+5wYg/b/EF67g7nooyl4SX5cjd81Rcc034NN65u57GZZOXZZP3TFfjVeGlzntray+bvNRDzkZPGOzTcM95eb++vs3kvKfXKcLLKlvl7qIX8yDj4Z6ku9S5DPdtkMGnmXzy417ELaQNBKVc7c2K65v5H3ZYt+i7Qtg46IZGb0kUPscpNtjeOzHiVdfbdJV0GjEufTVZ4ofCp6HQSIhcqPZS5CERK2DZb3860B9owy29TfJPU2CWrjiG+h+aNzCfchZLhfUs1/52TY/hPMCnnkgSYYzPOk7dnOt78okkFb7INO9gn4Y7V5AyLdb0AdgO8Kwr+6Kca6J3zMJLzRSpU/XlaT6f3a2dkyRsmXCOz0+57U3dumU3dm1tqqa81hKX8uKScm0r78JEoPnnzjRXLJ+TzXVjXsaSVFFXd1Y+6d4NICrV9afby0b58D5wqnxzrsVM5rm29VE/lTvnFeZhc11RTlbK3045tZPKn3AMc1CuDbnVji49g3n+Mnyyk9+rarJ0+Tbf9lCpyXnzE53brPeKfOsuXrlu1n/pfPXnsU/u+2jalenJOSbila8DCO2c+Rz0X4+rizJqfE+68tUpWpntrYzu2+gzjjbVpSsfo+61L/00Hf97iBE+6crr6G/2ruFWyz8p6UC28qh372ypq7Dx7nTbP4SoPLz+euulRFZXlMOLbOV90LmDhSsMpZJmumjlkZqjzSrc/ighbdHKwwvPw3OYDgaIGo5bl6w8XLYIGd9hZnd9nHwjWLkNBjvtHxVIOfZmBCsPjUhySYOZTkjHkKzcPrtG8kgDV44w0QUr14HnWpcE6YEWwr4mWXkghHb0DA60x8d0ycqfbhnx5BlkgByHpQRHo57T1qmeIjxcEo8vqSXbPFiwaCnf91PuqMqfB5ybKC/uNNop8/z0ClfmsMJhV3vXtciTodDfxJMJvVdSJlUe3ivldinlxHK8JEq2uX7eIVDiS7oPms/8lBoGVI/jSzpILiBEXyUrj6NRh58PLyUIe4Fo5VFq6mEK0NOBc9lHIKPOHSzv4Q0T6SpZtPIoqPg+CyaMvE4re+7x9tXNyZvJq/swhYhUoEK28vj2XJl94VHjJC9fuPK4e3uXqXqIm6a0LNqHW/oXXiMv2X7bzIEmfp2gaK8lhNt8+6Sujv1SPacBxy0TbpayUB4t2sWS3Ds0j1f1S9Z3/HtqIqR45S/em6ii9cYMg/HdNuub/D5G+jx/Kf1RkGPbLP15s3ybl2fqAZ14C5aFcupzcfU6dypn5fGGvd/mmTdwGczzpZv9cTWUfRdPlPKzrzm0PUj1Pv2SJRfls9nr/brNSyHgk+1lo3zRvvOKpz2tOy/lpS6XrG71f+Urt2zszldXirNkpXwR3wy+nYXP/Z6fZ/b22tvU3JTPZxRt7dhXVdWPS4b/1Xa4drV/9hW2gJf3XHVV/t1qCwUtGeCLsBVQ4qydNMNXVaXlFc5YPom5elLJWPP6eo2ND8C2p81Qg6RfgfcLDYhP6r6BZq4AeuLN9IeFs5d3Z5rq8es2FlR3sizGZ2C3+MzvC75qKV/cofxS/ugnM97O8bxBTGVn5fz4qvr0V7CmlaJ7RqmiNkP1dYxfFyiQwPe/D++GX7kHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4zX++4Uu5ULjYCwAAAABJRU5ErkJggg==\""],"sourceRoot":""}