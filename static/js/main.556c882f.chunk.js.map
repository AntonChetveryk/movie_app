{"version":3,"sources":["api/api.js","redux/auth/auth.actions.js","redux/auth/auth.types.js","hoc/withAuth.jsx","components/Header/Login/LoginForm.jsx","components/Header/Login/Login.jsx","components/Header/UserMenu.jsx","components/Header/Header.jsx","components/Layout.jsx","components/Filters/SortBy.jsx","components/Filters/SortByYears.jsx","components/Filters/Pagination.jsx","components/Filters/Genres.jsx","components/Filters/GenresContainer.jsx","components/Filters/Filters.jsx","components/Movies/Watchlist .jsx","components/Movies/Favorite.jsx","components/Movies/MovieItem.jsx","components/Movies/MoviesList.jsx","components/Movies/MoviesHOC.jsx","components/Pages/MoviesPage/MoviesPage.jsx","components/UI/Loader.jsx","components/UI/Img.jsx","components/Pages/MoviePage/Tabs/MovieInfo.jsx","components/Pages/MoviePage/Tabs/Detail.jsx","components/Pages/MoviePage/Tabs/Videos.jsx","components/Pages/MoviePage/Tabs/Credits.jsx","components/Pages/MoviePage/Tabs/Navigation.jsx","components/Pages/MoviePage/MoviePage.jsx","components/App.jsx","utils/cookies.js","redux/auth/auth.reducer.js","redux/rootReducer.js","redux/store.js","index.js","img/spinner.gif","img/bookmark-24px.svg","img/bookmark_border-24px.svg","img/star_border-24px.svg","img/star-24px.svg","img/no-photo.png"],"names":["API_URL","API_KEY_3","fetchApi","url","options","arguments","length","undefined","Promise","resolve","reject","fetch","then","response","status","json","data","catch","error","CallApi","_options$params","params","queryStringParams","Object","objectSpread","api_key","concat","queryString","stringify","mode","headers","Content-type","_options$params2","_options$body","body","method","JSON","fetchAuth","session_id","dispatch","type","get","user","updateAuth","fetchFavorites","fetchWatchlists","payload","_ref","_ref2","id","language","favorits","updateFavoriteMovies","results","_ref3","watchlists","updateWatchlistMovies","showLoginModal","onLogOut","mapStateToProps","state","auth","mapDispatchToProps","authActions","bindActionCreators","withAuth","Component","connect","_React$Component","WithAuth","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","inherits","createClass","key","value","react_default","a","createElement","props","React","username","password","repeatPassword","errors","submitting","onChange","e","name","target","_this","setState","prevState","defineProperty","base","handleBlur","event","validateFields","onSubmit","post","request_token","console","log","status_message","onLogin","preventDefault","keys","_this$state","className","htmlFor","classNames","border-red","placeholder","onBlur","onClick","disabled","_this$props","Modal","isOpen","isShowModal","toggle","ModalBody","Login_LoginForm","dropdownOpen","toggleDropdown","handleLogOut","Dropdown","DropdownToggle","tag","data-toggle","aria-expanded","width","src","avatar","gravatar","hash","alt","DropdownMenu","right","DropdownItem","Header","href","Header_UserMenu","Header_Login_Login","Layout","components_Header_Header","children","SortBy","sort_by","onChangeFilters","map","option","label","PureComponent","defaultProps","years","from","to","i","push","getYears","SortByYears","primary_release_year","Pagination","handleClick","newPage","onChangePage","page","total_pages","Genres","genres","genre","onChangeGenres","checked","with_genres","includes","String","GenresContainer","call","getGenres","link","_event$target","toConsumableArray","filter","el","Filters_Genres","Filters","_this$props$filters","filters","onReset","SortBy_SortBy","SortByYears_SortByYears","GenresContainer_GenresContainer","Pagination_Pagination","isLoading","movie","media_type","media_id","watchlist","isWatchlist","_this$props2","findIndex","item","Bookmark","Bookmarkborder","favorite","isFavorite","Star","Starborder","MovieItem","backdrop_path","poster_path","NoPhoto","react_router_dom","title","vote_average","Movies_Favorite","Watchlist_","MoviesList","movies","Spinner","Movies_MovieItem","movie_id","MoviesHOC","MovieHOC","getMovies","onChangeTotalPage","join","prevProps","assign","App","createContext","initialState","Filters_Filters","Movies_MoviesList","Loader","Img","MovieInfo","UI_Img","overview","Detail","release_date","runtime","original_language","production_countries","country","budget","revenue","production_companies","Videos","videos","_this2","match","res","UI_Loader","video","iframe","height","frameBorder","Credits","avatars","cast","cast_id","profile_path","withRouter","Nav","tabs","NavItem","NavLink","exact","NavLinkRouter","MoviePage","Fragment","Tabs_MovieInfo","Tabs_Navigation","Row","Col","sm","react_router","path","render","routerProps","Tabs_Detail","component","basename","components_Layout","MoviesPage","cookies","Cookies","authReducer","action","combineReducers","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","getState","next","set","maxAge","remove","ReactDOM","es","components_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.556c882f.chunk.js","sourcesContent":["import queryString from \"query-string\";\r\nexport const API_URL = \"https://api.themoviedb.org/3\";\r\nexport const API_KEY_3 = \"b3ff350532467eb0b07cf18d16f4a254\";\r\nexport const API_KEY_4 =\r\n  \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiM2ZmMzUwNTMyNDY3ZWIwYjA3Y2YxOGQxNmY0YTI1NCIsInN1YiI6IjVkZWJlZWIzZGFmNTdjMDAxNWVhOWVhYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.442u7uWzvay-kNfCoZWJ7h-5KWhh9qWCJHHqA3jjOBw\";\r\n\r\nexport const fetchApi = (url, options = {}) => {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(url, options)\r\n      .then(response => {\r\n        if (response.status < 400) {\r\n          return response.json();\r\n        } else {\r\n          throw response;\r\n        }\r\n      })\r\n      .then(data => {\r\n        resolve(data);\r\n      })\r\n      .catch(response => {\r\n        response.json().then(error => {\r\n          reject(error);\r\n        });\r\n      });\r\n  });\r\n};\r\n\r\nexport default class CallApi {\r\n  static get(url, options = {}) {\r\n    const { params = {} } = options;\r\n    const queryStringParams = {\r\n      api_key: API_KEY_3,\r\n      ...params\r\n    };\r\n    return fetchApi(\r\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\"\r\n        }\r\n      }\r\n    );\r\n  }\r\n  static post(url, options = {}) {\r\n    const { params = {}, body = {} } = options;\r\n    const queryStringParams = {\r\n      api_key: API_KEY_3,\r\n      ...params\r\n    };\r\n    return fetchApi(\r\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(body)\r\n      }\r\n    );\r\n  }\r\n}\r\n","import * as types from \"./auth.types\";\r\nimport CallApi from \"../../api/api\";\r\n\r\nexport const fetchAuth = session_id => dispatch => {\r\n  dispatch({\r\n    type: types.FETCH_REQUEST_AUTH\r\n  });\r\n  CallApi.get(\"/account\", {\r\n    params: {\r\n      session_id\r\n    }\r\n  })\r\n    .then(user => {\r\n      dispatch(updateAuth({ user, session_id }));\r\n      dispatch(fetchFavorites({ session_id, user }));\r\n      dispatch(fetchWatchlists({ session_id, user }));\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: types.FETCH_ERROR_AUTH,\r\n        payload: error\r\n      });\r\n    });\r\n};\r\n\r\nexport const updateAuth = ({ session_id, user }) => ({\r\n  type: types.FETCH_SUCCESS_AUTH,\r\n  payload: {\r\n    session_id,\r\n    user\r\n  }\r\n});\r\n\r\nexport const fetchFavorites = ({ session_id, user }) => dispatch => {\r\n  CallApi.get(`/account/${user.id}/favorite/movies`, {\r\n    params: { language: \"ru-RU\", session_id: session_id }\r\n  }).then(favorits => {\r\n    dispatch(updateFavoriteMovies(favorits.results));\r\n  });\r\n};\r\n\r\nexport const updateFavoriteMovies = favorits => {\r\n  return {\r\n    type: types.UPDATE_FAVORITE_MOVIES,\r\n    payload: favorits\r\n  };\r\n};\r\n\r\nexport const fetchWatchlists = ({ session_id, user }) => dispatch => {\r\n  CallApi.get(`/account/${user.id}/watchlist/movies`, {\r\n    params: { language: \"ru-RU\", session_id: session_id }\r\n  }).then(watchlists => {\r\n    dispatch(updateWatchlistMovies(watchlists.results));\r\n  });\r\n};\r\n\r\nexport const updateWatchlistMovies = watchlists => {\r\n  return {\r\n    type: types.UPDATE_WATCHLIST_MOVIES,\r\n    payload: watchlists\r\n  };\r\n};\r\n\r\nexport const showLoginModal = () => {\r\n  return {\r\n    type: types.SHOW_LOGIN_MODAL\r\n  };\r\n};\r\n\r\nexport const onLogOut = () => {\r\n  return {\r\n    type: types.LOGOUT\r\n  };\r\n};\r\n","export const FETCH_SUCCESS_AUTH = \"FETCH_SUCCESS_AUTH\";\r\nexport const SHOW_LOGIN_MODAL = \"SHOW_LOGIN_MODAL\";\r\nexport const LOGOUT = \"LOGOUT\";\r\nexport const UPDATE_FAVORITE_MOVIES = \"UPDATE_FAVORITE_MOVIES\";\r\nexport const UPDATE_WATCHLIST_MOVIES = \"UPDATE_WATCHLIST_MOVIES\";\r\nexport const FETCH_REQUEST_AUTH = \"FETCH_REQUEST_AUTH\";\r\nexport const FETCH_ERROR_AUTH = \"FETCH_ERROR_AUTH\";\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport * as authActions from \"../redux/auth/auth.actions\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    auth: state.auth\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  authActions: bindActionCreators(authActions, dispatch)\r\n});\r\n\r\nexport const withAuth = Component =>\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(\r\n    class WithAuth extends React.Component {\r\n      render() {\r\n        return <Component {...this.props} />;\r\n      }\r\n    }\r\n  );\r\n","import React from 'react'\r\nimport CallApi from '../../../api/api'\r\nimport classNames from 'classnames'\r\nimport { withAuth } from '../../../hoc/withAuth'\r\n\r\nclass LoginForm extends React.Component {\r\n  state = {\r\n    username: 'chetverykanton92@gmail.com',\r\n    password: 'anton1992',\r\n    repeatPassword: 'anton1992',\r\n    errors: {},\r\n    submitting: false,\r\n  }\r\n\r\n  onChange = (e) => {\r\n    const name = e.target.name\r\n    const value = e.target.value\r\n    this.setState((prevState) => ({\r\n      [name]: value,\r\n      errors: {\r\n        ...prevState.errors,\r\n        base: null,\r\n        [name]: null,\r\n      },\r\n    }))\r\n  }\r\n\r\n  handleBlur = (event) => {\r\n    const { name } = event.target\r\n    const errors = this.validateFields()\r\n    const error = errors[name]\r\n    if (error) {\r\n      this.setState((prevState) => ({\r\n        errors: {\r\n          ...prevState.errors,\r\n          [name]: error,\r\n        },\r\n      }))\r\n    }\r\n  }\r\n\r\n  validateFields = () => {\r\n    const errors = {}\r\n\r\n    if (this.state.username === '') {\r\n      errors.username = 'Not empty'\r\n    }\r\n\r\n    if (this.state.password === '') {\r\n      errors.password = 'Обязательное'\r\n    }\r\n\r\n    if (this.state.repeatPassword !== this.state.password) {\r\n      errors.repeatPassword = 'Должен быть равен паролю'\r\n    }\r\n\r\n    return errors\r\n  }\r\n\r\n  onSubmit = () => {\r\n    this.setState({\r\n      submitting: true,\r\n    })\r\n    let session_id\r\n    //1\r\n    CallApi.get(`/authentication/token/new`)\r\n\r\n      .then((data) => {\r\n        //2\r\n        return CallApi.post('/authentication/token/validate_with_login', {\r\n          body: {\r\n            username: this.state.username,\r\n            password: this.state.password,\r\n            request_token: data.request_token,\r\n          },\r\n        })\r\n      })\r\n      .then((data) => {\r\n        //3\r\n        return CallApi.post('/authentication/session/new', {\r\n          body: {\r\n            request_token: data.request_token,\r\n          },\r\n        })\r\n      })\r\n      .then((data) => {\r\n        session_id = data.session_id\r\n\r\n        //4\r\n        return CallApi.get('/account', {\r\n          params: {\r\n            session_id: session_id,\r\n          },\r\n        })\r\n      })\r\n      .then((user) => {\r\n        this.setState(\r\n          {\r\n            submitting: false,\r\n          },\r\n          () => this.props.authActions.updateAuth({ session_id, user })\r\n        )\r\n        this.props.authActions.fetchFavorites({ user, session_id })\r\n        this.props.authActions.fetchWatchlists({ user, session_id })\r\n      })\r\n      .catch((error) => {\r\n        console.log('error', error)\r\n        this.setState({\r\n          submitting: false,\r\n          errors: {\r\n            base: error.status_message,\r\n          },\r\n        })\r\n      })\r\n  }\r\n\r\n  onLogin = (e) => {\r\n    e.preventDefault()\r\n    const errors = this.validateFields()\r\n    if (Object.keys(errors).length > 0) {\r\n      this.setState((prevState) => ({\r\n        errors: {\r\n          ...prevState.errors,\r\n          ...errors,\r\n        },\r\n      }))\r\n    } else {\r\n      this.onSubmit()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      username,\r\n      password,\r\n      repeatPassword,\r\n      errors,\r\n      submitting,\r\n    } = this.state\r\n    return (\r\n      <div className=\"form-login-container\">\r\n        <form className=\"form-login\">\r\n          <h1 className=\"h3 mb-3 font-weight-normal text-center\">\r\n            Авторизация\r\n          </h1>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"username\">Пользователь</label>\r\n            <input\r\n              type=\"text\"\r\n              className={classNames('form-control', {\r\n                'border-red': errors.username,\r\n              })}\r\n              id=\"username\"\r\n              placeholder=\"Пользователь\"\r\n              name=\"username\"\r\n              value={username}\r\n              onChange={this.onChange}\r\n              onBlur={this.handleBlur}\r\n            />\r\n            {errors.username && (\r\n              <div className=\"invalid-feedback\">{errors.username}</div>\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Пароль</label>\r\n            <input\r\n              type=\"password\"\r\n              className={classNames('form-control', {\r\n                'border-red': errors.password,\r\n              })}\r\n              id=\"password\"\r\n              placeholder=\"Пароль\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={this.onChange}\r\n              onBlur={this.handleBlur}\r\n            />\r\n            {errors.password && (\r\n              <div className=\"invalid-feedback\">{errors.password}</div>\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"repeatPassword\">Повторите пароль</label>\r\n            <input\r\n              type=\"password\"\r\n              className={classNames('form-control', {\r\n                'border-red': errors.repeatPassword,\r\n              })}\r\n              id=\"repeatPassword\"\r\n              placeholder=\"Повторите пароль\"\r\n              name=\"repeatPassword\"\r\n              value={repeatPassword}\r\n              onChange={this.onChange}\r\n              onBlur={this.handleBlur}\r\n            />\r\n            {errors.repeatPassword && (\r\n              <div className=\"invalid-feedback\">{errors.repeatPassword}</div>\r\n            )}\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-lg btn-primary btn-block\"\r\n            onClick={this.onLogin}\r\n            disabled={submitting}\r\n          >\r\n            Вход\r\n          </button>\r\n          {errors.base && (\r\n            <div className=\"invalid-feedback text-center\">{errors.base}</div>\r\n          )}\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withAuth(LoginForm)\r\n","import React from \"react\";\r\nimport { withAuth } from \"../../../hoc/withAuth\";\r\nimport { Modal, ModalBody } from \"reactstrap\";\r\nimport LoginForm from \"./LoginForm\";\r\n\r\nclass Login extends React.Component {\r\n  render() {\r\n    const { auth, authActions } = this.props;\r\n    return (\r\n      <div>\r\n        <button\r\n          className=\"btn btn-success\"\r\n          type=\"button\"\r\n          onClick={authActions.showLoginModal}\r\n        >\r\n          Login\r\n        </button>\r\n        <Modal isOpen={auth.isShowModal} toggle={authActions.showLoginModal}>\r\n          <ModalBody>\r\n            <LoginForm />\r\n          </ModalBody>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Login);\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Dropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem\r\n} from \"reactstrap\";\r\nimport { withAuth } from \"../../hoc/withAuth\";\r\nimport { fetchApi, API_URL, API_KEY_3 } from \"../../api/api\";\r\n\r\nclass UserMenu extends Component {\r\n  state = {\r\n    dropdownOpen: false\r\n  };\r\n\r\n  toggleDropdown = () => {\r\n    this.setState(prevState => ({\r\n      dropdownOpen: !prevState.dropdownOpen\r\n    }));\r\n  };\r\n\r\n  handleLogOut = () => {\r\n    fetchApi(`${API_URL}/authentication/session?api_key=${API_KEY_3}`, {\r\n      method: \"DELETE\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        session_id: this.props.auth.session_id\r\n      })\r\n    }).then(() => {\r\n      this.props.authActions.onLogOut();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { auth } = this.props;\r\n    return (\r\n      <Dropdown isOpen={this.state.dropdownOpen} toggle={this.toggleDropdown}>\r\n        <DropdownToggle\r\n          tag=\"div\"\r\n          onClick={this.toggleDropdown}\r\n          data-toggle=\"dropdown\"\r\n          aria-expanded={this.state.dropdownOpen}\r\n        >\r\n          <img\r\n            width=\"40\"\r\n            className=\"rounded-circle\"\r\n            src={`https://secure.gravatar.com/avatar/${auth.user.avatar.gravatar.hash}.jpg?s=64\"`}\r\n            alt=\"\"\r\n            onClick={this.toggleDropdown}\r\n          />\r\n        </DropdownToggle>\r\n        <DropdownMenu right>\r\n          <DropdownItem onClick={this.handleLogOut}>Выйти</DropdownItem>\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(UserMenu);\r\n","import React from \"react\";\r\nimport Login from \"./Login/Login\";\r\nimport UserMenu from \"./UserMenu\";\r\n\r\nclass Header extends React.Component {\r\n  render() {\r\n    const { user } = this.props;\r\n    return (\r\n      <nav className=\"navbar navbar-dark bg-primary\">\r\n        <div className=\"container\">\r\n          <ul className=\"navbar-nav\">\r\n            <li className=\"nav-item active\">\r\n              <a href=\"/\" className=\"nav-link\">\r\n                Home\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          {user ? <UserMenu /> : <Login />}\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react'\r\n\r\nimport Header from './Header/Header'\r\n\r\nclass Layout extends React.Component {\r\n  render() {\r\n    const { auth } = this.props\r\n    return (\r\n      <div className=\"Layout\">\r\n        <Header user={auth.user} />\r\n        {this.props.children}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Layout\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class SortBy extends React.PureComponent {\r\n  static propTypes = {\r\n    sort_by: PropTypes.string.isRequired,\r\n    onChangeFilters: PropTypes.func.isRequired\r\n  };\r\n\r\n  static defaultProps = {\r\n    options: [\r\n      {\r\n        label: \"Популярные по убыванию\",\r\n        value: \"popularity.desc\"\r\n      },\r\n      {\r\n        label: \"Популярные по возростанию\",\r\n        value: \"popularity.asc\"\r\n      },\r\n      {\r\n        label: \"Рейтинг по убыванию\",\r\n        value: \"vote_average.desc\"\r\n      },\r\n      {\r\n        label: \"Рейтинг по возростанию\",\r\n        value: \"vote_average.asc\"\r\n      }\r\n    ]\r\n  };\r\n  render() {\r\n    const { sort_by, onChangeFilters, options } = this.props;\r\n\r\n    return (\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"sort_by\">Сортировать по:</label>\r\n        <select\r\n          className=\"form-control\"\r\n          value={sort_by}\r\n          onChange={onChangeFilters}\r\n          id=\"sort_by\"\r\n          name=\"sort_by\"\r\n        >\r\n          {options.map(option => (\r\n            <option key={option.value} value={option.value}>\r\n              {option.label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nfunction getYears(from, to) {\r\n  let years = [];\r\n  for (let i = from; i <= to; i++) {\r\n    years.push(i);\r\n  }\r\n  return years;\r\n}\r\n\r\nconst years = getYears(1950, 2025);\r\n\r\nexport default class SortByYears extends React.PureComponent {\r\n  render() {\r\n    const { primary_release_year, onChangeFilters } = this.props;\r\n    return (\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"primary_release_year\">Сортировать по году:</label>\r\n        <select\r\n          className=\"form-control\"\r\n          value={primary_release_year}\r\n          onChange={onChangeFilters}\r\n          id=\"primary_release_year\"\r\n          name=\"primary_release_year\"\r\n        >\r\n          {years.map(option => (\r\n            <option key={option} value={option}>\r\n              {option}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class Pagination extends React.Component {\r\n  handleClick = newPage => {\r\n    return () => {\r\n      this.props.onChangePage(newPage);\r\n    };\r\n  };\r\n  render() {\r\n    const { page, total_pages } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"btn-group\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-light\"\r\n            onClick={this.handleClick(page - 1)}\r\n            disabled={page === 1}\r\n          >\r\n            Назад\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-light\"\r\n            onClick={this.handleClick(page + 1)}\r\n            disabled={page === total_pages}\r\n          >\r\n            Вперед\r\n          </button>\r\n        </div>\r\n        <div className=\"total-pages mt-2\">{`${page} из ${total_pages}`}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nconst Genres = props => (\r\n  <div className=\"genres\">\r\n    {props.genres.map(genre => (\r\n      <div key={genre.id} className=\"checkbox-container\">\r\n        <input\r\n          type=\"checkbox\"\r\n          name={genre.name}\r\n          id={genre.id}\r\n          value={genre.id}\r\n          onChange={props.onChangeGenres}\r\n          checked={props.with_genres.includes(String(genre.id))}\r\n        />\r\n        <label htmlFor={genre.id} className=\"ml-2\">\r\n          {genre.name}\r\n        </label>\r\n      </div>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default Genres;\r\n","import React from \"react\";\r\nimport { API_KEY_3 } from \"../../api/api\";\r\nimport Genres from \"./Genres\";\r\n\r\nexport default class GenresContainer extends React.PureComponent {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      genres: []\r\n    };\r\n  }\r\n\r\n  getGenres = () => {\r\n    const link = `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY_3}&language=ru-RU`;\r\n    fetch(link)\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        this.setState({\r\n          genres: data.genres\r\n        });\r\n      });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getGenres();\r\n  }\r\n\r\n  onChangeGenres = event => {\r\n    const { with_genres } = this.props;\r\n    const { value, checked } = event.target;\r\n\r\n    this.props.onChangeFilters({\r\n      target: {\r\n        name: \"with_genres\",\r\n        value: checked\r\n          ? [...with_genres, value]\r\n          : with_genres.filter(el => el !== value)\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { genres } = this.state;\r\n    const { with_genres } = this.props;\r\n    return (\r\n      <Genres\r\n        genres={genres}\r\n        onChangeGenres={this.onChangeGenres}\r\n        with_genres={with_genres}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport SortBy from \"./SortBy\";\r\nimport SortByYears from \"./SortByYears\";\r\nimport Pagination from \"./Pagination\";\r\nimport GenresContainer from \"./GenresContainer\";\r\n\r\nexport default class Filters extends React.Component {\r\n  render() {\r\n    const {\r\n      filters: { sort_by, primary_release_year, with_genres },\r\n      onChangeFilters,\r\n      onChangePage,\r\n      page,\r\n      total_pages,\r\n      onReset\r\n    } = this.props;\r\n    return (\r\n      <form className=\"mb-3\">\r\n        <button type=\"button\" className=\"btn btn-light mb-2\" onClick={onReset}>\r\n          Сбросить фильтры\r\n        </button>\r\n        <SortBy sort_by={sort_by} onChangeFilters={onChangeFilters} />\r\n        <SortByYears\r\n          primary_release_year={primary_release_year}\r\n          onChangeFilters={onChangeFilters}\r\n        />\r\n\r\n        <h3>Жанры:</h3>\r\n        <GenresContainer\r\n          onChangeFilters={onChangeFilters}\r\n          with_genres={with_genres}\r\n        />\r\n        <Pagination\r\n          page={page}\r\n          onChangePage={onChangePage}\r\n          total_pages={total_pages}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { withAuth } from \"../../hoc/withAuth\";\r\nimport CallApi from \"../../api/api\";\r\nimport Bookmark from \"../../img/bookmark-24px.svg\";\r\nimport Bookmarkborder from \"../../img/bookmark_border-24px.svg\";\r\n\r\nclass Watchlist extends React.Component {\r\n  state = {\r\n    isLoading: false\r\n  };\r\n  onClick = () => {\r\n    const { auth, authActions, movie } = this.props;\r\n    if (auth.user) {\r\n      this.setState({\r\n        isLoading: true\r\n      });\r\n      CallApi.post(`/account/${auth.user.id}/watchlist`, {\r\n        params: {\r\n          session_id: auth.session_id\r\n        },\r\n        body: {\r\n          media_type: \"movie\",\r\n          media_id: movie.id,\r\n          watchlist: !this.isWatchlist()\r\n        }\r\n      }).then(() =>\r\n        this.setState(\r\n          {\r\n            isLoading: false\r\n          },\r\n          () => authActions.fetchWatchlists(auth)\r\n        )\r\n      );\r\n    } else {\r\n      authActions.showLoginModal();\r\n    }\r\n  };\r\n\r\n  isWatchlist = () => {\r\n    const { auth, movie } = this.props;\r\n    return auth.watchlists.findIndex(item => item.id === movie.id) !== -1;\r\n  };\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    return (\r\n      <img\r\n        src={this.isWatchlist() ? Bookmark : Bookmarkborder}\r\n        alt=\"bookmark\"\r\n        onClick={this.onClick}\r\n        className={isLoading ? \"disable\" : null}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Watchlist);\r\n","import React from \"react\";\r\nimport { withAuth } from \"../../hoc/withAuth\";\r\nimport CallApi from \"../../api/api\";\r\nimport Starborder from \"../../img/star_border-24px.svg\";\r\nimport Star from \"../../img/star-24px.svg\";\r\n\r\nclass Favorite extends React.Component {\r\n  state = {\r\n    isLoading: false\r\n  };\r\n\r\n  onClick = () => {\r\n    const { auth, movie } = this.props;\r\n    if (auth.user) {\r\n      this.setState({\r\n        isLoading: true\r\n      });\r\n      CallApi.post(`/account/${auth.user.id}/favorite`, {\r\n        params: {\r\n          session_id: auth.session_id\r\n        },\r\n        body: {\r\n          media_type: \"movie\",\r\n          media_id: movie.id,\r\n          favorite: !this.isFavorite()\r\n        }\r\n      }).then(() =>\r\n        this.setState(\r\n          {\r\n            isLoading: false\r\n          },\r\n          () => this.props.authActions.fetchFavorites(auth)\r\n        )\r\n      );\r\n    } else {\r\n      this.props.authActions.showLoginModal();\r\n    }\r\n  };\r\n\r\n  isFavorite = () => {\r\n    const { auth, movie } = this.props;\r\n    return auth.favorits.findIndex(item => item.id === movie.id) !== -1;\r\n  };\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    return (\r\n      <img\r\n        src={this.isFavorite() ? Star : Starborder}\r\n        alt=\"star\"\r\n        onClick={this.onClick}\r\n        className={isLoading ? \"disable\" : null}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Favorite);\r\n","import React from \"react\";\r\nimport Watchlist from \"./Watchlist \";\r\nimport Favorite from \"./Favorite\";\r\nimport { Link } from \"react-router-dom\";\r\nimport NoPhoto from \"../../img/no-photo.png\";\r\n\r\nclass MovieItem extends React.Component {\r\n  render() {\r\n    const { movie } = this.props;\r\n    return (\r\n      <div className=\"card\">\r\n        {movie.backdrop_path || movie.poster_path ? (\r\n          <img\r\n            className=\"card-img-top card-img--height\"\r\n            src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path ||\r\n              movie.poster_path}`}\r\n            alt=\"\"\r\n          />\r\n        ) : (\r\n          <img className=\"card-img-top card-img--height\" src={NoPhoto} alt=\"\" />\r\n        )}\r\n\r\n        <div className=\"card-body\">\r\n          <Link className=\"card-title\" to={`/movie/${movie.id}`}>\r\n            {movie.title}\r\n          </Link>\r\n          <div className=\"card-text\">Рейтинг: {movie.vote_average}</div>\r\n          <Favorite movie={movie} />\r\n          <Watchlist movie={movie} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieItem;\r\n","import React from \"react\";\r\nimport MovieItem from \"./MovieItem\";\r\nimport Spinner from \"../../img/spinner.gif\";\r\nimport PropTypes from \"prop-types\";\r\nimport MoviesHOC from \"./MoviesHOC\";\r\n\r\nconst MoviesList = ({ movies, isLoading }) => (\r\n  <div className=\"row movies-list-container\">\r\n    {isLoading ? (\r\n      <img src={Spinner} alt=\"loading\" className=\"loading\" />\r\n    ) : (\r\n      movies.map(movie => {\r\n        return (\r\n          <div key={movie.id} className=\"col-6 mb-4\">\r\n            <MovieItem movie={movie} movie_id={movie.id} />\r\n          </div>\r\n        );\r\n      })\r\n    )}\r\n  </div>\r\n);\r\n\r\nMoviesList.defaultProps = {\r\n  movies: []\r\n};\r\n\r\nMoviesList.propTypes = {\r\n  movies: PropTypes.array.isRequired\r\n};\r\n\r\nexport default MoviesHOC(MoviesList);\r\n","import React from \"react\";\r\nimport CallApi from \"../../api/api\";\r\n\r\nexport default Component =>\r\n  class MovieHOC extends React.Component {\r\n    constructor() {\r\n      super();\r\n\r\n      this.state = {\r\n        movies: [],\r\n        isLoading: false\r\n      };\r\n    }\r\n    getMovies = (filters, page) => {\r\n      const { sort_by, primary_release_year, with_genres } = filters;\r\n      const queryStringParams = {\r\n        language: \"ru-RU\",\r\n        sort_by,\r\n        page,\r\n        primary_release_year\r\n      };\r\n\r\n      const { onChangeTotalPage } = this.props;\r\n\r\n      if (with_genres.length > 0) {\r\n        queryStringParams.with_genres = with_genres.join(\",\");\r\n      }\r\n\r\n      this.setState({\r\n        isLoading: !this.state.isLoading\r\n      });\r\n\r\n      CallApi.get(\"/discover/movie\", {\r\n        params: queryStringParams\r\n      }).then(data => {\r\n        this.setState({\r\n          isLoading: !this.state.isLoading,\r\n          movies: data.results\r\n        });\r\n        onChangeTotalPage(data.total_pages);\r\n      });\r\n    };\r\n\r\n    componentDidMount() {\r\n      this.getMovies(this.props.filters, this.props.page);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n      if (this.props.filters !== prevProps.filters) {\r\n        this.props.onChangePage(1);\r\n        this.getMovies(this.props.filters, 1);\r\n      }\r\n      if (this.props.page !== prevProps.page) {\r\n        this.getMovies(this.props.filters, this.props.page);\r\n      }\r\n    }\r\n\r\n    render() {\r\n      const { movies, isLoading } = this.state;\r\n\r\n      return (\r\n        <Component {...this.props} movies={movies} isLoading={isLoading} />\r\n      );\r\n    }\r\n  };\r\n","import React from \"react\";\r\nimport Filters from \"../../Filters/Filters\";\r\nimport MoviesList from \"../../Movies/MoviesList\";\r\n//import { API_URL, API_KEY_3, fetchApi } from \"../../../api/api\";\r\n//import CallApi from \"../../../api/api\";\r\n\r\nexport const MoviesPage = React.createContext();\r\n\r\nexport default class App extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.initialState = {\r\n      filters: {\r\n        sort_by: \"popularity.desc\",\r\n        primary_release_year: \"2020\",\r\n        with_genres: []\r\n      },\r\n      page: 1,\r\n      total_pages: \"\"\r\n    };\r\n    this.state = this.initialState;\r\n  }\r\n\r\n  onChangeFilters = event => {\r\n    const { name, value } = event.target;\r\n\r\n    this.setState(state => ({\r\n      filters: {\r\n        ...state.filters,\r\n        [name]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  onChangePage = page => {\r\n    this.setState({\r\n      page\r\n    });\r\n  };\r\n\r\n  onChangeTotalPage = total_pages => {\r\n    this.setState({\r\n      total_pages\r\n    });\r\n  };\r\n\r\n  onReset = event => {\r\n    event.preventDefault();\r\n    this.setState(this.initialState);\r\n  };\r\n\r\n  render() {\r\n    const { filters, page, total_pages } = this.state;\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-4\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h3>Фильтры:</h3>\r\n                <Filters\r\n                  page={page}\r\n                  filters={filters}\r\n                  onChangeFilters={this.onChangeFilters}\r\n                  onChangePage={this.onChangePage}\r\n                  total_pages={total_pages}\r\n                  onReset={this.onReset}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-8\">\r\n            <MoviesList\r\n              filters={filters}\r\n              page={page}\r\n              onChangePage={this.onChangePage}\r\n              total_pages={total_pages}\r\n              onChangeTotalPage={this.onChangeTotalPage}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Spinner from \"../../../src/img/spinner.gif\";\r\n\r\nconst Loader = () => <img src={Spinner} alt=\"loading\" className=\"loading\" />;\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\n\r\nconst Img = ({ poster_path }) => (\r\n  <img\r\n    className=\"card-img-top card-img--height\"\r\n    src={`https://image.tmdb.org/t/p/w500${poster_path || \"\"}`}\r\n    alt=\"\"\r\n  />\r\n);\r\n\r\nexport default Img;\r\n","import React from \"react\";\r\nimport Watchlist from \"../../../Movies/Watchlist \";\r\nimport Favorite from \"../../../Movies/Favorite\";\r\nimport Img from \"../../../UI/Img\";\r\n\r\nconst MovieInfo = ({ movie }) => (\r\n  <div className=\"row mt-4\">\r\n    <div className=\"col-3\">\r\n      <Img poster_path={movie.poster_path} />\r\n    </div>\r\n    <div className=\"col-9\">\r\n      <h2>{movie.title}</h2>\r\n      <p>{movie.overview}</p>\r\n      <Favorite movie={movie} />\r\n      <Watchlist movie={movie} />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default MovieInfo;\r\n","import React from \"react\";\r\n\r\nconst Detail = ({ movie }) => (\r\n  <div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Статус</b>\r\n      </div>\r\n      <div className=\"col \">{movie.status}</div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Дата выхода</b>\r\n      </div>\r\n      <div className=\"col\">{movie.release_date}</div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Продолжительность</b>\r\n      </div>\r\n      <div className=\"col\">{`${movie.runtime} min`}</div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Язык оригинала</b>\r\n      </div>\r\n      <div className=\"col\">{movie.original_language}</div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Страна</b>\r\n      </div>\r\n      <div className=\"col\">\r\n        {movie.production_countries &&\r\n          movie.production_countries.map(country => {\r\n            return (\r\n              <p key={country.name} className=\"bg-blue\">\r\n                {country.name}\r\n              </p>\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Бюджет</b>\r\n      </div>\r\n      <div className=\"col\">{movie.budget}</div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Сборы</b>\r\n      </div>\r\n      <div className=\"col\">{movie.revenue}</div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Компания</b>\r\n      </div>\r\n      <div className=\"col\">\r\n        {movie.production_companies &&\r\n          movie.production_companies.map(genre => {\r\n            return (\r\n              <p key={genre.name} className=\"bg-blue\">\r\n                {genre.name}\r\n              </p>\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n    <div className=\"row details\">\r\n      <div className=\"col\">\r\n        <b>Жанры</b>\r\n      </div>\r\n      <div className=\"col\">\r\n        {movie.genres &&\r\n          movie.genres.map(genre => {\r\n            return (\r\n              <p key={genre.name} className=\"bg-blue\">\r\n                {genre.name}\r\n              </p>\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Detail;\r\n","import React from 'react'\r\nimport CallApi from '../../../../api/api'\r\nimport Iframe from 'react-iframe'\r\nimport Loader from '../../../UI/Loader'\r\n\r\nexport default class Videos extends React.Component {\r\n  state = {\r\n    videos: [],\r\n    isLoading: false,\r\n  }\r\n  componentDidMount() {\r\n    const { match } = this.props\r\n    this.setState({\r\n      isLoading: true,\r\n    })\r\n    CallApi.get(`/movie/${match.params.id}/videos`, {\r\n      params: { language: 'ru-RU' },\r\n    }).then(res => this.setState({ videos: res.results, isLoading: false }))\r\n  }\r\n\r\n  render() {\r\n    const { videos, isLoading } = this.state\r\n    return (\r\n      <div>\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          <div className=\"row mt-2\">\r\n            {videos.map(video => {\r\n              return (\r\n                <div className=\"col-6\">\r\n                  <div className=\"card\" key={video.id}>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col\">\r\n                          <b>{video.name}</b>\r\n                          <Iframe\r\n                            url={`https://www.youtube.com/embed/${video.key}`}\r\n                            title={video.name}\r\n                            width=\"100%\"\r\n                            height=\"400px\"\r\n                            frameBorder=\"0\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport CallApi from \"../../../../api/api\";\r\nimport Loader from \"../../../UI/Loader\";\r\n\r\nexport default class Credits extends React.Component {\r\n  state = {\r\n    avatars: [],\r\n    isLoading: false\r\n  };\r\n  componentDidMount() {\r\n    const { match } = this.props;\r\n    this.setState({\r\n      isLoading: true\r\n    });\r\n    CallApi.get(`/movie/${match.params.id}/credits`).then(res =>\r\n      this.setState({ avatars: res.cast, isLoading: false })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { avatars, isLoading } = this.state;\r\n    return (\r\n      <div className=\"avatars-container\">\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          avatars.map(avatar => {\r\n            return (\r\n              <div key={avatar.cast_id}>\r\n                {avatar.profile_path ? (\r\n                  <div className=\"avatar-container\">\r\n                    <img\r\n                      src={`https://image.tmdb.org/t/p/w500${avatar.profile_path ||\r\n                        \"\"}`}\r\n                      alt=\"\"\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Nav, NavItem, NavLink } from \"reactstrap\";\r\nimport { withRouter } from \"react-router\";\r\nimport { NavLink as NavLinkRouter } from \"react-router-dom\";\r\n\r\nconst Navigation = ({ match }) => (\r\n  <Nav tabs className=\"mt-4\">\r\n    <NavItem>\r\n      <NavLink exact to={`/movie/${match.params.id}/`} tag={NavLinkRouter}>\r\n        Детали\r\n      </NavLink>\r\n    </NavItem>\r\n    <NavItem>\r\n      <NavLink to={`/movie/${match.params.id}/videos`} tag={NavLinkRouter}>\r\n        Видео\r\n      </NavLink>\r\n    </NavItem>\r\n    <NavItem>\r\n      <NavLink to={`/movie/${match.params.id}/credits`} tag={NavLinkRouter}>\r\n        Актеры\r\n      </NavLink>\r\n    </NavItem>\r\n  </Nav>\r\n);\r\n\r\nexport default withRouter(Navigation);\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router\";\r\nimport { Row, Col } from \"reactstrap\";\r\nimport Loader from \"../../UI/Loader\";\r\n\r\nimport CallApi from \"../../../api/api\";\r\nimport MovieInfo from \"./Tabs/MovieInfo\";\r\nimport Detail from \"./Tabs/Detail\";\r\nimport Videos from \"./Tabs/Videos\";\r\nimport Credits from \"./Tabs/Credits\";\r\nimport Navigation from \"./Tabs/Navigation\";\r\n\r\nexport default class MoviePage extends React.Component {\r\n  state = {\r\n    movie: {},\r\n    isLoading: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      isLoading: true\r\n    });\r\n    CallApi.get(`/movie/${this.props.match.params.id}`, {\r\n      params: { language: \"ru-RU\" }\r\n    }).then(response => this.setState({ movie: response, isLoading: false }));\r\n  }\r\n\r\n  render() {\r\n    const { movie, isLoading } = this.state;\r\n    return (\r\n      <div className=\"container\">\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          <>\r\n            <MovieInfo movie={movie} />\r\n            <Navigation />\r\n            <Row>\r\n              <Col sm=\"12\">\r\n                <Switch>\r\n                  <Route\r\n                    exact\r\n                    path=\"/movie/:id\"\r\n                    render={routerProps => (\r\n                      <Detail {...routerProps} movie={movie} />\r\n                    )}\r\n                  ></Route>\r\n                  <Route exact path=\"/movie/:id/videos\" component={Videos} />\r\n                  <Route exact path=\"/movie/:id/credits\" component={Credits} />\r\n                </Switch>\r\n              </Col>\r\n            </Row>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\r\nimport Layout from './Layout'\r\n// import Header from './Header/Header'\r\nimport MoviesPage from './Pages/MoviesPage/MoviesPage'\r\nimport MoviePage from './Pages/MoviePage/MoviePage'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport { withAuth } from '../hoc/withAuth'\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    const { auth, authActions } = this.props\r\n\r\n    if (auth.session_id) {\r\n      authActions.fetchAuth(auth.session_id)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { auth } = this.props\r\n    return (\r\n      <Router basename=\"movie_app\">\r\n        <Switch>\r\n          <Layout auth={auth}>\r\n            <Route exact path=\"/\" component={MoviesPage} />\r\n            <Route path=\"/movie/:id\" component={MoviePage} />\r\n          </Layout>\r\n        </Switch>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withAuth(App)\r\n","import Cookies from \"universal-cookie\";\r\n\r\nexport const cookies = new Cookies();\r\n","import * as types from \"./auth.types\";\r\nimport { cookies } from \"../../utils/cookies\";\r\n\r\nconst initialState = {\r\n  user: null,\r\n  session_id: cookies.get(\"session_id\"),\r\n  isShowModal: false,\r\n  favorits: [],\r\n  watchlists: []\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.FETCH_SUCCESS_AUTH:\r\n      return {\r\n        ...state,\r\n        session_id: action.payload.session_id,\r\n        user: action.payload.user\r\n      };\r\n\r\n    case types.LOGOUT:\r\n      return {\r\n        ...state,\r\n        session_id: null,\r\n        user: null,\r\n        favorits: [],\r\n        watchlists: []\r\n      };\r\n\r\n    case types.SHOW_LOGIN_MODAL:\r\n      return {\r\n        ...state,\r\n        isShowModal: !state.isShowModal\r\n      };\r\n\r\n    case types.UPDATE_FAVORITE_MOVIES:\r\n      return {\r\n        ...state,\r\n        favorits: action.payload\r\n      };\r\n    case types.UPDATE_WATCHLIST_MOVIES:\r\n      return {\r\n        ...state,\r\n        watchlists: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./auth/auth.reducer\";\r\n\r\nexport default combineReducers({\r\n  auth: authReducer\r\n});\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport rootReducer from './rootReducer'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\nimport { cookies } from '../utils/cookies'\r\nimport { FETCH_SUCCESS_AUTH, LOGOUT } from './auth/auth.types'\r\n\r\nconst updateCookies = ({ dispatch, getState }) => next => action => {\r\n  if (action.type === FETCH_SUCCESS_AUTH) {\r\n    cookies.set('session_id', action.payload.session_id, {\r\n      path: '/',\r\n      maxAge: 2592000,\r\n    })\r\n  }\r\n\r\n  if (action.type === LOGOUT) {\r\n    cookies.remove('session_id')\r\n  }\r\n  return next(action)\r\n}\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk, updateCookies))\r\n)\r\n\r\nexport default store\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./stylesheets/index.css\";\r\nimport store from \"./redux/store\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/spinner.f894bce2.gif\";","module.exports = __webpack_public_path__ + \"static/media/bookmark-24px.84162454.svg\";","module.exports = __webpack_public_path__ + \"static/media/bookmark_border-24px.3f1c7930.svg\";","module.exports = __webpack_public_path__ + \"static/media/star_border-24px.f02a9cc4.svg\";","module.exports = __webpack_public_path__ + \"static/media/star-24px.d0367478.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPkAAADKCAMAAABQfxahAAAAMFBMVEX29vbHx8f5+fnY2Njr6+vExMTPz8/h4eHIyMj19fXw8PDp6env7+/U1NTd3d3R0dGNI6mWAAAFWUlEQVR4nO2d65azKgyGFUVAPNz/3W511m5Ba43SNsHvfX7NWtNh8U44hBDSogAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuygq3B39MKr1Vd8cM1am4+7rJ1FusFrrksD0qd7fx+6Gpvqhvm+5e/wZVHVK9yzddncwuxvPCp+5wYg/b/EF67g7nooyl4SX5cjd81Rcc034NN65u57GZZOXZZP3TFfjVeGlzntray+bvNRDzkZPGOzTcM95eb++vs3kvKfXKcLLKlvl7qIX8yDj4Z6ku9S5DPdtkMGnmXzy417ELaQNBKVc7c2K65v5H3ZYt+i7Qtg46IZGb0kUPscpNtjeOzHiVdfbdJV0GjEufTVZ4ofCp6HQSIhcqPZS5CERK2DZb3860B9owy29TfJPU2CWrjiG+h+aNzCfchZLhfUs1/52TY/hPMCnnkgSYYzPOk7dnOt78okkFb7INO9gn4Y7V5AyLdb0AdgO8Kwr+6Kca6J3zMJLzRSpU/XlaT6f3a2dkyRsmXCOz0+57U3dumU3dm1tqqa81hKX8uKScm0r78JEoPnnzjRXLJ+TzXVjXsaSVFFXd1Y+6d4NICrV9afby0b58D5wqnxzrsVM5rm29VE/lTvnFeZhc11RTlbK3045tZPKn3AMc1CuDbnVji49g3n+Mnyyk9+rarJ0+Tbf9lCpyXnzE53brPeKfOsuXrlu1n/pfPXnsU/u+2jalenJOSbila8DCO2c+Rz0X4+rizJqfE+68tUpWpntrYzu2+gzjjbVpSsfo+61L/00Hf97iBE+6crr6G/2ruFWyz8p6UC28qh372ypq7Dx7nTbP4SoPLz+euulRFZXlMOLbOV90LmDhSsMpZJmumjlkZqjzSrc/ighbdHKwwvPw3OYDgaIGo5bl6w8XLYIGd9hZnd9nHwjWLkNBjvtHxVIOfZmBCsPjUhySYOZTkjHkKzcPrtG8kgDV44w0QUr14HnWpcE6YEWwr4mWXkghHb0DA60x8d0ycqfbhnx5BlkgByHpQRHo57T1qmeIjxcEo8vqSXbPFiwaCnf91PuqMqfB5ybKC/uNNop8/z0ClfmsMJhV3vXtciTodDfxJMJvVdSJlUe3ivldinlxHK8JEq2uX7eIVDiS7oPms/8lBoGVI/jSzpILiBEXyUrj6NRh58PLyUIe4Fo5VFq6mEK0NOBc9lHIKPOHSzv4Q0T6SpZtPIoqPg+CyaMvE4re+7x9tXNyZvJq/swhYhUoEK28vj2XJl94VHjJC9fuPK4e3uXqXqIm6a0LNqHW/oXXiMv2X7bzIEmfp2gaK8lhNt8+6Sujv1SPacBxy0TbpayUB4t2sWS3Ds0j1f1S9Z3/HtqIqR45S/em6ii9cYMg/HdNuub/D5G+jx/Kf1RkGPbLP15s3ybl2fqAZ14C5aFcupzcfU6dypn5fGGvd/mmTdwGczzpZv9cTWUfRdPlPKzrzm0PUj1Pv2SJRfls9nr/brNSyHgk+1lo3zRvvOKpz2tOy/lpS6XrG71f+Urt2zszldXirNkpXwR3wy+nYXP/Z6fZ/b22tvU3JTPZxRt7dhXVdWPS4b/1Xa4drV/9hW2gJf3XHVV/t1qCwUtGeCLsBVQ4qydNMNXVaXlFc5YPom5elLJWPP6eo2ND8C2p81Qg6RfgfcLDYhP6r6BZq4AeuLN9IeFs5d3Z5rq8es2FlR3sizGZ2C3+MzvC75qKV/cofxS/ugnM97O8bxBTGVn5fz4qvr0V7CmlaJ7RqmiNkP1dYxfFyiQwPe/D++GX7kHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4zX++4Uu5ULjYCwAAAABJRU5ErkJggg==\""],"sourceRoot":""}